(function(){"use strict";var e={7121:function(e,t,o){var a=o(5102),s=o(9269);const n={key:0,class:"center-container"};function l(e,t,o,a,l,r){const i=(0,s.up)("ParticlesAnimated"),c=(0,s.up)("font-awesome-icon"),u=(0,s.up)("q-toolbar-title"),m=(0,s.up)("q-toolbar"),d=(0,s.up)("NavBar"),p=(0,s.up)("q-header"),f=(0,s.up)("q-btn"),h=(0,s.up)("router-link"),w=(0,s.up)("router-view"),g=(0,s.up)("UserHelper"),_=(0,s.up)("ContactForm"),y=(0,s.up)("q-page"),v=(0,s.up)("q-page-container"),b=(0,s.up)("FooterBar"),W=(0,s.up)("q-footer"),k=(0,s.up)("q-layout");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i),(0,s.Wm)(k,{view:"lHh Lpr lFf"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"q-mt-sm q-ml-sm",style:{position:"fixed",top:"0",left:"0",right:"0","z-index":"1000"}},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(c,{icon:"fa-solid fa-mortar-pestle",size:"xl",color:"#ffb74d"})]),(0,s.Wm)(u,{class:"text-cyan-4",style:{"max-width":"100px"}},{default:(0,s.w5)((()=>[(0,s.Uk)("PPH")])),_:1})])),_:1}),e.isLoggedIn?((0,s.wg)(),(0,s.j4)(p,{key:0,style:{"z-index":"6000"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d)])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[r.shouldDisplayButton?((0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(h,{to:"/login"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{outline:"",size:"xxl",color:"cyan-4",class:"hover-effect",icon:"start"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Start")])),_:1})])),_:1})])):(0,s.kq)("",!0),(0,s.Wm)(w),e.isLoggedIn?((0,s.wg)(),(0,s.j4)(g,{key:1})):(0,s.kq)("",!0),(0,s.Wm)(_)])),_:1})])),_:1}),e.isLoggedIn?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(W,{key:1,style:{"z-index":"6000"}},{default:(0,s.w5)((()=>[(0,s.Wm)(b)])),_:1}))])),_:1})],64)}const r=(0,s._)("div",{id:"particles-js"},null,-1),i=[r];function c(e,t,o,a,n,l){return(0,s.wg)(),(0,s.iD)("div",null,i)}var u=o(6957);o(6641);const m=window.particlesJS;var d={name:"ParticlesAnimated",computed:{...(0,u.rn)("auth",["isLoggedIn"])},watch:{isLoggedIn:"loadParticlesConfig"},mounted(){this.loadParticlesConfig()},methods:{loadParticlesConfig(){const e=this.isLoggedIn?"/particlesjs-config.json":"/guest-particlesjs-config.json";m.load("particles-js",e,(function(){console.log("Particles.js config loaded")}))}}},p=o(7617);const f=(0,p.Z)(d,[["render",c]]);var h=f;const w={href:"home/"};function g(e,t,o,a,n,l){const r=(0,s.up)("font-awesome-icon"),i=(0,s.up)("q-toolbar-title"),c=(0,s.up)("FichierBtn"),u=(0,s.up)("PlanificationBtn"),m=(0,s.up)("FabricationBtn"),d=(0,s.up)("TracabiliteBtn"),p=(0,s.up)("GestionBtn"),f=(0,s.up)("q-btn-group"),h=(0,s.up)("q-space"),g=(0,s.up)("q-btn"),_=(0,s.up)("q-toolbar");return(0,s.wg)(),(0,s.j4)(_,{class:"bg-blue-grey-13 q-pa-md row"},{default:(0,s.w5)((()=>[(0,s._)("a",w,[(0,s.Wm)(r,{icon:"fa-solid fa-mortar-pestle","beat-fade":"",size:"xl",color:l.tokenColor},null,8,["color"])]),(0,s.Wm)(i,{class:"text-cyan-4",style:{"max-width":"100px"}},{default:(0,s.w5)((()=>[(0,s.Uk)("PPH")])),_:1}),(0,s.Wm)(f,{flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c),(0,s.Wm)(u),(0,s.Wm)(m),(0,s.Wm)(d),(0,s.Wm)(p)])),_:1}),(0,s.Wm)(h),(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,{flat:"",size:"sm",color:"cyan-4",onClick:e.toggleFullscreen,icon:"minimize"},null,8,["onClick"]),(0,s.Wm)(g,{flat:"",size:"sm",color:"cyan-4",onClick:e.toggleFullscreen,icon:"crop_square"},null,8,["onClick"]),e.isLoggedIn?((0,s.wg)(),(0,s.j4)(g,{key:0,flat:"",size:"sm",color:"orange-4",onClick:e.logout,icon:"logout"},null,8,["onClick"])):(0,s.kq)("",!0),e.isLoggedIn?((0,s.wg)(),(0,s.j4)(g,{key:1,flat:"",size:"sm",color:"red-4",onClick:e.close,icon:"close"},null,8,["onClick"])):(0,s.kq)("",!0)])),_:1})])),_:1})}var _=o(3201);function y(e,t,o,a,n,l){const r=(0,s.up)("q-item-section"),i=(0,s.up)("router-link"),c=(0,s.up)("q-item"),u=(0,s.up)("q-separator"),m=(0,s.up)("q-icon"),d=(0,s.up)("q-list"),p=(0,s.up)("q-menu"),f=(0,s.up)("q-btn"),h=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(f,{class:(0,_.C_)({"text-cyan-1":!n.menuOpen,"text-cyan-4":n.menuOpen,"hover-effect":!0}),flat:"",label:"Fichier"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{"transition-show":"jump-down","transition-hide":"jump-up",onShow:t[2]||(t[2]=e=>n.menuOpen=!0),onHide:l.resetMenu},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"bg-blue-grey-4",dense:"",style:{"min-width":"100px"}},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{class:"pph-link",to:"/user-account/"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Mon compte")])),_:1})])),_:1})])),_:1})),[[h]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{class:"pph-link",to:"/users/"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Utilisateurs")])),_:1})])),_:1})])),_:1})),[[h]]),(0,s.Wm)(u),(0,s.Wm)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:(0,_.C_)({"text-cyan-1":!n.submenuOpen,"text-cyan-4":n.submenuOpen,"hover-effect":!0})},{default:(0,s.w5)((()=>[(0,s.Uk)("Paramètres")])),_:1},8,["class"]),(0,s.Wm)(r,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{name:"keyboard_arrow_right"})])),_:1}),(0,s.Wm)(p,{anchor:"top end",self:"top start",onShow:t[0]||(t[0]=e=>n.submenuOpen=!0),onHide:t[1]||(t[1]=e=>n.submenuOpen=!1)},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"bg-blue-grey-3"},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect-2"},{default:(0,s.w5)((()=>[(0,s.Uk)("Etablissement")])),_:1})])),_:1})),[[h]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect-2"},{default:(0,s.w5)((()=>[(0,s.Uk)("Utilisateurs")])),_:1})])),_:1})),[[h]])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(u),(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{class:"logout",clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"logout-text text-red-5"},{default:(0,s.w5)((()=>[(0,s.Uk)("Fermer")])),_:1})])),_:1})),[[h]])])),_:1})])),_:1},8,["onHide"])])),_:1},8,["class"])])}var v={name:"FichierBtn",data(){return{menuOpen:!1,submenuOpen:!1}},methods:{resetMenu(){this.menuOpen=!1,this.submenuOpen=!1}}},b=o(570),W=o(2952),k=o(2146),S=o(5246),q=o(2278),C=o(4492),U=o(4633),I=o(8819),F=o(1410),x=o.n(F);const E=(0,p.Z)(v,[["render",y]]);var M=E;function P(e,t,o,a,n,l){const r=(0,s.up)("q-item-section"),i=(0,s.up)("q-item"),c=(0,s.up)("q-list"),u=(0,s.up)("q-menu"),m=(0,s.up)("q-btn"),d=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(m,{class:(0,_.C_)({"text-cyan-1":!n.menuOpen,"text-cyan-4":n.menuOpen,"hover-effect":!0}),flat:"",label:"Planification"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{"transition-show":"jump-down","transition-hide":"jump-up",onShow:t[0]||(t[0]=e=>n.menuOpen=!0),onHide:t[1]||(t[1]=e=>n.menuOpen=!1)},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"bg-blue-grey-4",dense:"",style:{"min-width":"100px"}},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(i,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Nouvelle demande")])),_:1})])),_:1})),[[d]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(i,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Demandes en attente")])),_:1})])),_:1})),[[d]])])),_:1})])),_:1})])),_:1},8,["class"])])}x()(v,"components",{QBtn:b.Z,QMenu:W.Z,QList:k.Z,QItem:S.Z,QItemSection:q.Z,QSeparator:C.Z,QIcon:U.Z}),x()(v,"directives",{ClosePopup:I.Z});var T={name:"PlanificationBtn",data(){return{menuOpen:!1}}};const Z=(0,p.Z)(T,[["render",P]]);var L=Z;function V(e,t,o,a,n,l){const r=(0,s.up)("q-item-section"),i=(0,s.up)("q-item"),c=(0,s.up)("q-list"),u=(0,s.up)("q-menu"),m=(0,s.up)("q-btn"),d=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(m,{class:(0,_.C_)({"text-cyan-1":!n.menuOpen,"text-cyan-4":n.menuOpen,"hover-effect":!0}),flat:"",label:"Fabrication"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{"transition-show":"jump-down","transition-hide":"jump-up",onShow:t[0]||(t[0]=e=>n.menuOpen=!0),onHide:t[1]||(t[1]=e=>n.menuOpen=!1)},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"bg-blue-grey-4",dense:"",style:{"min-width":"100px"}},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(i,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Nouvelle fiche de fabrication")])),_:1})])),_:1})),[[d]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(i,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Contrôles en attente")])),_:1})])),_:1})),[[d]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(i,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Réattribution")])),_:1})])),_:1})),[[d]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(i,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Reconditionnement")])),_:1})])),_:1})),[[d]])])),_:1})])),_:1})])),_:1},8,["class"])])}x()(T,"components",{QBtn:b.Z,QMenu:W.Z,QList:k.Z,QItem:S.Z,QItemSection:q.Z}),x()(T,"directives",{ClosePopup:I.Z});var N={name:"FabricationBtn",data(){return{menuOpen:!1}}};const Q=(0,p.Z)(N,[["render",V]]);var j=Q;function O(e,t,o,a,n,l){const r=(0,s.up)("q-item-section"),i=(0,s.up)("q-icon"),c=(0,s.up)("q-item"),u=(0,s.up)("q-list"),m=(0,s.up)("q-menu"),d=(0,s.up)("q-btn"),p=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{class:(0,_.C_)({"text-cyan-1":!n.menuOpen,"text-cyan-4":n.menuOpen,"hover-effect":!0}),flat:"",label:"Tracabilite"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{"transition-show":"jump-down","transition-hide":"jump-up",onShow:t[4]||(t[4]=e=>n.menuOpen=!0),onHide:l.resetMenu},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"bg-blue-grey-4",dense:"",style:{"min-width":"100px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:(0,_.C_)({"text-cyan-1":!n.submenuOpen,"text-cyan-4":n.submenuOpen,"hover-effect":!0})},{default:(0,s.w5)((()=>[(0,s.Uk)("Certificats d'analyse")])),_:1},8,["class"]),(0,s.Wm)(r,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"keyboard_arrow_right"})])),_:1}),(0,s.Wm)(m,{anchor:"top end",self:"top start",onShow:t[0]||(t[0]=e=>n.submenuOpen=!0),onHide:t[1]||(t[1]=e=>n.submenuOpen=!1)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"bg-blue-grey-3"},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect-2"},{default:(0,s.w5)((()=>[(0,s.Uk)("Télécharger")])),_:1})])),_:1})),[[p]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect-2"},{default:(0,s.w5)((()=>[(0,s.Uk)("Rechercher")])),_:1})])),_:1})),[[p]])])),_:1})])),_:1})])),_:1}),(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Ordonnancier")])),_:1})])),_:1})),[[p]]),(0,s.Wm)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:(0,_.C_)({"text-cyan-1":!n.submenuOpen2,"text-cyan-4":n.submenuOpen2,"hover-effect":!0})},{default:(0,s.w5)((()=>[(0,s.Uk)("Historiques")])),_:1},8,["class"]),(0,s.Wm)(r,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"keyboard_arrow_right"})])),_:1}),(0,s.Wm)(m,{anchor:"top end",self:"top start",onShow:t[2]||(t[2]=e=>n.submenuOpen2=!0),onHide:t[3]||(t[3]=e=>n.submenuOpen2=!1)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"bg-blue-grey-3"},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect-2"},{default:(0,s.w5)((()=>[(0,s.Uk)("Patient")])),_:1})])),_:1})),[[p]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect-2"},{default:(0,s.w5)((()=>[(0,s.Uk)("Matière première")])),_:1})])),_:1})),[[p]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect-2"},{default:(0,s.w5)((()=>[(0,s.Uk)("Préparation")])),_:1})])),_:1})),[[p]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["onHide"])])),_:1},8,["class"])])}x()(N,"components",{QBtn:b.Z,QMenu:W.Z,QList:k.Z,QItem:S.Z,QItemSection:q.Z}),x()(N,"directives",{ClosePopup:I.Z});var R={name:"TracabiliteBtn",data(){return{menuOpen:!1,submenuOpen:!1,submenuOpen2:!1}},methods:{resetMenu(){this.menuOpen=!1,this.submenuOpen=!1,this.submenuOpen2=!1}}};const B=(0,p.Z)(R,[["render",O]]);var A=B;function D(e,t,o,a,n,l){const r=(0,s.up)("q-item-section"),i=(0,s.up)("router-link"),c=(0,s.up)("q-item"),u=(0,s.up)("q-icon"),m=(0,s.up)("q-list"),d=(0,s.up)("q-menu"),p=(0,s.up)("q-btn"),f=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(p,{class:(0,_.C_)({"text-cyan-1":!n.menuOpen,"text-cyan-4":n.menuOpen,"hover-effect":!0}),flat:"",label:"Gestion"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{"transition-show":"jump-down","transition-hide":"jump-up",onShow:t[10]||(t[10]=e=>n.menuOpen=!0),onHide:l.resetMenu},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"bg-blue-grey-4",dense:"",style:{"min-width":"100px"}},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{to:"/suppliers/",class:"pph-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Fournisseurs")])),_:1})])),_:1})])),_:1})),[[f]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{to:"/matieres-premieres/",class:"pph-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Mat.premières")])),_:1})])),_:1})])),_:1})),[[f]]),(0,s.Wm)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:(0,_.C_)({"text-cyan-1":!n.submenuOpen2,"text-cyan-4":n.submenuOpen2,"hover-effect":!0})},{default:(0,s.w5)((()=>[(0,s.Uk)("Formules")])),_:1},8,["class"]),(0,s.Wm)(r,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{name:"keyboard_arrow_right"})])),_:1}),(0,s.Wm)(d,{anchor:"top end",self:"top start",onShow:t[0]||(t[0]=e=>n.submenuOpen2=!0),onHide:t[1]||(t[1]=e=>n.submenuOpen2=!1)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"bg-blue-grey-3"},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{to:"/nouvelle-formule/",class:"pph-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Nouvelle formule")])),_:1})])),_:1})])),_:1})),[[f]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{to:"/compositions/",class:"pph-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Compositions")])),_:1})])),_:1})])),_:1})),[[f]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("En attente de validation")])),_:1})])),_:1})),[[f]])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:(0,_.C_)({"text-cyan-1":!n.submenuOpen3,"text-cyan-4":n.submenuOpen3,"hover-effect":!0})},{default:(0,s.w5)((()=>[(0,s.Uk)("stock")])),_:1},8,["class"]),(0,s.Wm)(r,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{name:"keyboard_arrow_right"})])),_:1}),(0,s.Wm)(d,{anchor:"top end",self:"top start",onShow:t[2]||(t[2]=e=>n.submenuOpen3=!0),onHide:t[3]||(t[3]=e=>n.submenuOpen3=!1)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"bg-blue-grey-3"},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Préparations")])),_:1})])),_:1})),[[f]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Matières premières")])),_:1})])),_:1})),[[f]])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:(0,_.C_)({"text-cyan-1":!n.submenuOpen4,"text-cyan-4":n.submenuOpen4,"hover-effect":!0})},{default:(0,s.w5)((()=>[(0,s.Uk)("Commandes")])),_:1},8,["class"]),(0,s.Wm)(r,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{name:"keyboard_arrow_right"})])),_:1}),(0,s.Wm)(d,{anchor:"top end",self:"top start",onShow:t[4]||(t[4]=e=>n.submenuOpen4=!0),onHide:t[5]||(t[5]=e=>n.submenuOpen4=!1)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"bg-blue-grey-3"},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Produits en attente de commande")])),_:1})])),_:1})),[[f]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Edition fiche de commande")])),_:1})])),_:1})),[[f]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Produits en attente de livraison")])),_:1})])),_:1})),[[f]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Réceptionner une livraison")])),_:1})])),_:1})),[[f]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Historique des commandes")])),_:1})])),_:1})),[[f]])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:(0,_.C_)({"text-cyan-1":!n.submenuOpen5,"text-cyan-4":n.submenuOpen5,"hover-effect":!0})},{default:(0,s.w5)((()=>[(0,s.Uk)("Statistiques")])),_:1},8,["class"]),(0,s.Wm)(r,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{name:"keyboard_arrow_right"})])),_:1}),(0,s.Wm)(d,{anchor:"top end",self:"top start",onShow:t[6]||(t[6]=e=>n.submenuOpen5=!0),onHide:t[7]||(t[7]=e=>n.submenuOpen5=!1)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"bg-blue-grey-3"},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Bilan")])),_:1})])),_:1})),[[f]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Requêtes")])),_:1})])),_:1})),[[f]])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:(0,_.C_)({"text-cyan-1":!n.submenuOpen6,"text-cyan-4":n.submenuOpen6,"hover-effect":!0})},{default:(0,s.w5)((()=>[(0,s.Uk)("Tarification")])),_:1},8,["class"]),(0,s.Wm)(r,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{name:"keyboard_arrow_right"})])),_:1}),(0,s.Wm)(d,{anchor:"top end",self:"top start",onShow:t[8]||(t[8]=e=>n.submenuOpen6=!0),onHide:t[9]||(t[9]=e=>n.submenuOpen6=!1)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"bg-blue-grey-3"},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Menu1")])),_:1})])),_:1})),[[f]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(c,{clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-cyan-1 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Menu2")])),_:1})])),_:1})),[[f]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["onHide"])])),_:1},8,["class"])])}x()(R,"components",{QBtn:b.Z,QMenu:W.Z,QList:k.Z,QItem:S.Z,QItemSection:q.Z,QIcon:U.Z}),x()(R,"directives",{ClosePopup:I.Z});var $={name:"GestionBtn",data(){return{menuOpen:!1,submenuOpen:!1,submenuOpen2:!1,submenuOpen3:!1,submenuOpen4:!1,submenuOpen5:!1,submenuOpen6:!1}},methods:{resetMenu(){this.menuOpen=!1,this.submenuOpen=!1,this.submenuOpen2=!1,this.submenuOpen3=!1,this.submenuOpen4=!1,this.submenuOpen5=!1,this.submenuOpen6=!1}}};const H=(0,p.Z)($,[["render",D]]);var z=H;x()($,"components",{QBtn:b.Z,QMenu:W.Z,QList:k.Z,QItem:S.Z,QItemSection:q.Z,QIcon:U.Z}),x()($,"directives",{ClosePopup:I.Z});var G={components:{FichierBtn:M,PlanificationBtn:L,FabricationBtn:j,TracabiliteBtn:A,GestionBtn:z},computed:{...(0,u.rn)("screen",["isFullscreen"]),...(0,u.rn)("auth",["isLoggedIn"]),...(0,u.rn)("auth",["tokenStatus"]),tokenColor(){switch(this.tokenStatus){case"valid":default:return"#81c784";case"nearExpiry":return"#ffb74d";case"nearInvalid":return"#e57373"}}},methods:{...(0,u.nv)("auth",["logout"]),...(0,u.nv)("screen",["toggleFullscreen"])}},K=o(366),Y=o(8623),J=o(8712),X=o(3139);const ee=(0,p.Z)(G,[["render",g]]);var te=ee;x()(G,"components",{QToolbar:K.Z,QToolbarTitle:Y.Z,QBtnGroup:J.Z,QSpace:X.Z,QBtn:b.Z});const oe=e=>((0,s.dD)("data-v-648e772e"),e=e(),(0,s.Cn)(),e),ae={class:"row justify-center"},se={class:"justify-center"},ne=oe((()=>(0,s._)("div",{color:"cyan-1",class:"q-mx-sm inline-block"},"|",-1))),le=oe((()=>(0,s._)("div",{color:"cyan-1",class:"q-mx-sm inline-block"},"|",-1))),re=oe((()=>(0,s._)("div",{color:"cyan-1",class:"q-mx-sm inline-block"},"|",-1)));function ie(e,t,o,a,n,l){const r=(0,s.up)("router-link"),i=(0,s.up)("q-footer");return(0,s.wg)(),(0,s.j4)(i,{class:"bg-blue-grey-3"},{default:(0,s.w5)((()=>[(0,s._)("div",ae,[(0,s._)("div",se,[(0,s.Wm)(r,{to:"cgu/",class:"hover-effect pph-link text-cyan-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("CGU")])),_:1}),ne,(0,s.Wm)(r,{to:"mentions/",class:"hover-effect pph-link text-cyan-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("Mentions légales")])),_:1}),le,(0,s.Wm)(r,{to:"cookies/",class:"hover-effect pph-link text-cyan-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("Politique cookies")])),_:1}),re,(0,s.Wm)(r,{to:"confidential/",class:"hover-effect pph-link text-cyan-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("Politique de confidentialité")])),_:1})])])])),_:1})}var ce={name:"FooterBar"},ue=o(830);const me=(0,p.Z)(ce,[["render",ie],["__scopeId","data-v-648e772e"]]);var de=me;function pe(e,t,o,a,n,l){const r=(0,s.up)("q-fab-action"),i=(0,s.up)("q-fab");return(0,s.wg)(),(0,s.j4)(i,{glossy:"",class:"btn-grey-primary-pph",icon:"help",direction:"left"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{glossy:"",class:"btn-grey-primary-pph",onClick:l.toggleForm,icon:"contact_support"},null,8,["onClick"]),(0,s.Wm)(r,{glossy:"",class:"btn-grey-primary-pph",onClick:l.onClick,icon:"play_lesson"},null,8,["onClick"])])),_:1})}x()(ce,"components",{QFooter:ue.Z});var fe={name:"UserHelper",computed:{...(0,u.rn)("contact",["showForm"])},methods:{toggleForm(){this.$store.commit("contact/SET_SHOW_FORM",!this.showForm)},onClick(){}}},he=o(9917),we=o(118);const ge=(0,p.Z)(fe,[["render",pe],["__scopeId","data-v-081954a6"]]);var _e=ge;x()(fe,"components",{QFab:he.Z,QFabAction:we.Z});const ye=e=>((0,s.dD)("data-v-57efc496"),e=e(),(0,s.Cn)(),e),ve=ye((()=>(0,s._)("span",{class:"text-cyan-4"},"Contactez-nous !",-1))),be={class:"row justify-center"};function We(e,t,o,a,n,l){const r=(0,s.up)("q-toolbar-title"),i=(0,s.up)("q-btn"),c=(0,s.up)("q-toolbar"),u=(0,s.up)("CustomTextarea"),m=(0,s.up)("q-form"),d=(0,s.up)("q-card-section"),p=(0,s.up)("q-card"),f=(0,s.up)("q-dialog"),h=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(f,{modelValue:l.showForm,"onUpdate:modelValue":t[1]||(t[1]=e=>l.showForm=e),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[ve])),_:1}),(0,s.wy)((0,s.Wm)(i,{flat:"",round:"",icon:"close",class:"hover-effect"},null,512),[[h]])])),_:1}),(0,s.Wm)(d,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{onSubmit:l.submitForm},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{textareaModel:l.message,"onUpdate:textareaModel":t[0]||(t[0]=e=>l.message=e),label:"Message",textareaRef:"messageTextarea",iconName:"message",modelName:"message",required:""},null,8,["textareaModel"]),(0,s._)("div",be,[(0,s.Wm)(i,{glossy:"",rounded:"",class:"btn-grey-success-pph q-my-sm",icon:"send",type:"submit"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}function ke(e,t,o,a,n,l){const r=(0,s.up)("q-icon"),i=(0,s.up)("q-input");return(0,s.wg)(),(0,s.j4)(i,{type:"textarea",class:"my-0",value:o.textareaModel,onInput:t[0]||(t[0]=e=>l.updateValue(e)),ref:o.textareaRef,label:o.label,color:"cyan-4",onMouseover:t[1]||(t[1]=e=>l.changeLabelColor(o.textareaRef,o.hoverColor)),onMouseleave:t[2]||(t[2]=e=>l.changeLabelColor(o.textareaRef,"")),onFocus:t[3]||(t[3]=e=>l.onFocus(o.modelName,o.focusColor)),onBlur:t[4]||(t[4]=e=>l.onBlur(o.modelName))},{before:(0,s.w5)((()=>[(0,s.Wm)(r,{name:o.iconName,color:"cyan-4"},null,8,["name"])])),_:1},8,["value","label"])}var Se={props:{textareaModel:{type:String,required:!0},label:{type:String,required:!0},textareaRef:{type:String,required:!0},iconName:{type:String,required:!0},modelName:{type:String,required:!0},hoverColor:{type:String,default:"#ffb74d"},focusColor:{type:String,default:"#4dd0e1"}},methods:{updateValue(e){this.$emit("update:textareaModel",e)},changeLabelColor(e,t){this.$refs[e].$el.querySelector(".q-field__label").style.color=t},onFocus(){this.isFocused=!0,this.$emit("update:focused",!0)},onBlur(){this.isFocused=!1,this.$emit("update:focused",!1)}}},qe=o(6053),Ce=o(4553);const Ue=(0,p.Z)(Se,[["render",ke]]);var Ie=Ue;x()(Se,"components",{QInput:qe.Z,QIcon:U.Z,QField:Ce.Z});var Fe={components:{CustomTextarea:Ie},computed:{...(0,u.rn)("contact",["contactData"]),...(0,u.Se)("auth",["user"]),message:{get(){return this.contactData.message},set(e){this.$store.commit("contact/SET_CONTACT_DATA",{...this.contactData,message:e})}},showForm:{get(){return this.$store.state.contact.showForm},set(e){this.$store.commit("contact/SET_SHOW_FORM",e)}}},methods:{...(0,u.nv)("contact",["submitContactForm"]),async submitForm(){let e={name:this.user.firstName+" "+this.user.lastName,email:this.user.email,message:this.message};await this.submitContactForm(e)}}},xe=o(1682),Ee=o(8055),Me=o(9501),Pe=o(3276);const Te=(0,p.Z)(Fe,[["render",We],["__scopeId","data-v-57efc496"]]);var Ze=Te;x()(Fe,"components",{QDialog:xe.Z,QCard:Ee.Z,QToolbar:K.Z,QToolbarTitle:Y.Z,QBtn:b.Z,QCardSection:Me.Z,QForm:Pe.Z}),x()(Fe,"directives",{ClosePopup:I.Z});var Le={name:"App",data(){return{interval:null,intentionalLogout:!1}},components:{ParticlesAnimated:h,NavBar:te,FooterBar:de,UserHelper:_e,ContactForm:Ze},computed:{...(0,u.rn)("auth",["isLoggedIn"]),shouldDisplayButton(){return"/"===this.$route.path}},methods:{handleFullscreenChange(){document.fullscreenElement?this.$store.commit("screen/SET_FULLSCREEN",!0):this.$store.commit("screen/SET_FULLSCREEN",!1)},...(0,u.nv)("auth",["checkAuthentication"])},created(){this.isLoggedIn&&(this.checkAuthentication(),this.interval=setInterval(this.checkAuthentication,6e4))},watch:{isLoggedIn(e){e&&!this.interval?this.interval=setInterval(this.checkAuthentication,6e4):!e&&this.interval&&(clearInterval(this.interval),this.interval=null)}},mounted(){document.addEventListener("fullscreenchange",this.handleFullscreenChange)},beforeUnmount(){document.removeEventListener("fullscreenchange",this.handleFullscreenChange),clearInterval(this.interval)}},Ve=o(2446),Ne=o(7454),Qe=o(6974),je=o(8906);const Oe=(0,p.Z)(Le,[["render",l]]);var Re=Oe;x()(Le,"components",{QLayout:Ve.Z,QToolbar:K.Z,QToolbarTitle:Y.Z,QHeader:Ne.Z,QPageContainer:Qe.Z,QPage:je.Z,QBtn:b.Z,QFooter:ue.Z});var Be=o(2201),Ae=(o(4719),o(734)),De=o(3785),$e=o.n(De);let He;He="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://localhost:8000":"https://pph-backend-4f4fd8d99c88.herokuapp.com/";const ze=Ae.Z.create({baseURL:He,withCredentials:!0}),Ge=()=>{const e=document.cookie.split("; ").find((e=>e.startsWith("refresh_token")));return e?e.split("=")[1]:null},Ke=(e,t,o)=>{var a="";if(o){var s=new Date;s.setTime(s.getTime()+24*o*60*60*1e3),a="; expires="+s.toUTCString()}document.cookie=e+"="+(t||"")+a+"; path=/"},Ye=()=>{Ke("access_token","",-1),Ke("refresh_token","",-1)},Je=async e=>{try{const t=await ze.post("/api/token/refresh/",{refresh:e});if(t.data&&t.data.access)return document.cookie=`access_token=${t.data.access}`,t.data.access}catch(t){return null}};ze.interceptors.response.use((e=>e),(async e=>{if(e.response&&401===e.response.status){const t=e.config,o=Ge();if(!t._retry&&o){t._retry=!0;const e=await Je(o);if(e)return t.headers["Authorization"]=`Bearer ${e}`,ze(t)}Ye()}return Promise.reject(e)})),ze.interceptors.request.use((e=>e.data&&e.data.isTrusted?new Promise((()=>{})):e)),ze.getUserData=function(){return this.get("PPH/current_user/")},ze.interceptors.request.use((e=>($e().start(),e))),ze.interceptors.response.use((e=>($e().done(),e)),(e=>($e().done(),Promise.reject(e))));var Xe=ze;const et=()=>({suppliers:[],showMenu:{},expanded:{},currentSupplier:null}),tt={allSuppliers:e=>e.suppliers,showMenu:e=>e.showMenu,expanded:e=>e.expanded,currentSupplier:e=>e.currentSupplier},ot={async addSupplier({dispatch:e},t){try{return await Xe.post("PPH/suppliers/",t),e("notifications/showNotification",{message:"Fournisseur ajouté avec succès",type:"success"},{root:!0}),Promise.resolve()}catch(o){return e("notifications/showNotification",{message:"Erreur lors de l'ajout du fournisseur",type:"error"},{root:!0}),Promise.reject(o)}},async fetchSupplierById(e){try{const t=await Xe.get(`PPH/suppliers/${e}`);return t}catch(t){throw console.error("Erreur lors de la récupération du fournisseur:",t),t}},async loadSuppliers({commit:e,dispatch:t}){try{const t=await Xe.get("/PPH/suppliers");e("SET_SUPPLIERS",t.data)}catch(o){t("notifications/showNotification",{message:"Erreur lors du chargement des fournisseurs",type:"error"},{root:!0}),console.error(o)}},async toggleActivation({dispatch:e},t){const{supplierId:o,isActive:a}=t;try{a?(await Xe.patch(`/PPH/suppliers/${o}/`,{is_activate:!1}),e("notifications/showNotification",{message:"Fournisseur désactivé",type:"success"},{root:!0})):(await Xe.patch(`/PPH/suppliers/${o}/`,{is_activate:!0}),e("notifications/showNotification",{message:"Fournisseur activé",type:"success"},{root:!0})),e("loadSuppliers")}catch(s){e("notifications/showNotification",{message:"Erreur lors du changement d'état",type:"error"},{root:!0}),console.error(s)}},async deleteSupplier({dispatch:e},t){try{await Xe.delete(`/PPH/suppliers/${t}`),e("notifications/showNotification",{message:"Fournisseur supprimé",type:"success"},{root:!0}),e("loadSuppliers")}catch(o){e("notifications/showNotification",{message:"Erreur lors de la suppression",type:"error"},{root:!0}),console.error(o)}},toggleMenu({commit:e},t){e("TOGGLE_MENU",t)},toggleInfo({commit:e},t){e("TOGGLE_INFO",t)},getSupplier({commit:e},t){return Xe.get(`/PPH/suppliers/${t}`).then((t=>(e("SET_CURRENT_SUPPLIER",t.data),t.data)))}},at={ADD_SUPPLIER(e,t){e.suppliers.push(t)},SET_SUPPLIERS(e,t){e.suppliers=t},TOGGLE_MENU(e,t){e.showMenu[t]=!e.showMenu[t]},TOGGLE_INFO(e,t){e.expanded[t]=!e.expanded[t]},SET_CURRENT_SUPPLIER(e,t){e.currentSupplier=t}};var st={namespaced:!0,state:et,getters:tt,actions:ot,mutations:at};const nt=()=>({users:[],showMenu:{},expanded:{},currentUser:null}),lt={allUsers:e=>e.users,showMenu:e=>e.showMenu,expanded:e=>e.expanded,currentUser:e=>e.currentUser},rt={async addUser({dispatch:e},t){try{return await Xe.post("PPH/users/",t),e("notifications/showNotification",{message:"Utilisateur ajouté avec succès",type:"success"},{root:!0}),Promise.resolve()}catch(o){return e("notifications/showNotification",{message:"Erreur lors de l'ajout de l'utilisateur.",type:"error"},{root:!0}),Promise.reject(o)}},async fetchUserById(e){try{const t=await Xe.get(`PPH/users/${e}`);return t}catch(t){throw console.error("Erreur lors de la récupération de l'utilisateur:",t),t}},async loadUsers({commit:e,dispatch:t}){try{const t=await Xe.get("/PPH/users"),o=t.data,a={},s={};o.forEach((e=>{a[e.id]=!1,s[e.id]=!1})),e("SET_USERS",o),e("INIT_MENU",a),e("INIT_INFO",s)}catch(o){t("notifications/showNotification",{message:"Erreur lors du chargement des utilisateurs",type:"error"},{root:!0}),console.error(o)}},async toggleActivation({dispatch:e},t){const{userId:o,isActive:a}=t;try{a?(await Xe.patch(`/PPH/users/${o}/`,{is_active:!1}),e("notifications/showNotification",{message:"Utilisateur désactivé",type:"success"},{root:!0})):(await Xe.patch(`/PPH/users/${o}/`,{is_active:!0}),e("notifications/showNotification",{message:"Utiliisateur activé",type:"success"},{root:!0})),e("loadUsers")}catch(s){e("notifications/showNotification",{message:"Erreur lors du changement d'état",type:"error"},{root:!0}),console.error(s)}},async deleteUser({dispatch:e},t){try{await Xe.delete(`/PPH/users/${t}`),e("notifications/showNotification",{message:"Utilisateur supprimé",type:"success"},{root:!0}),e("loadUsers")}catch(o){e("notifications/showNotification",{message:"Erreur lors de la suppression",type:"error"},{root:!0}),console.error(o)}},toggleMenu({commit:e},t){e("TOGGLE_MENU",t)},toggleInfo({commit:e},t){e("TOGGLE_INFO",t)},getUser({commit:e},t){return Xe.get(`/PPH/users/${t}`).then((t=>(e("SET_CURRENT_USER",t.data),t.data)))}},it={ADD_USER(e,t){e.users.push(t)},SET_USERS(e,t){e.users=t,t.forEach((t=>{e.showMenu={...e.showMenu,[t.id]:!1},e.expanded={...e.expanded,[t.id]:!1}}))},TOGGLE_MENU(e,t){e.showMenu[t]=!e.showMenu[t]},TOGGLE_INFO(e,t){e.expanded[t]=!e.expanded[t]},SET_CURRENT_USER(e,t){e.currentUser=t},INIT_MENU(e,t){e.showMenu=t},INIT_INFO(e,t){e.expanded=t}};var ct={namespaced:!0,state:nt,getters:lt,actions:rt,mutations:it},ut=o(6666);const mt={showNotification(e,t){let o={};switch(t.type){case"success":o={color:"green-3",icon:"announcement"};break;case"error":o={color:"red-3",icon:"warning"};break;case"info":o={color:"blue-3",icon:"info"};break}ut.Z.create({message:t.message,...o,timeout:5e3,position:"top-right",...t.options})}};var dt={namespaced:!0,actions:mt};const pt=()=>({showForm:!1,contactData:{name:"",email:"",message:""}}),ft=pt(),ht={SET_SHOW_FORM(e,t){e.showForm=t},SET_CONTACT_DATA(e,t){console.log("Updating contactData with payload:",t),e.contactData=t}},wt={toggleForm({commit:e},t){e("SET_SHOW_FORM",t)},async submitContactForm({commit:e,dispatch:t},o){try{let a=await Xe.post("PPH/contact/",o);return e("SET_CONTACT_DATA",pt().contactData),t("notifications/showNotification",{type:"success",message:"Votre message a bien été envoyé !"},{root:!0}),a}catch(a){console.error("There was an error submitting the contact form:",a),t("notifications/showNotification",{type:"error",message:"Une erreur est survenue lors de l'envoi de votre message. Veuillez réessayer plus tard."},{root:!0})}}};var gt={namespaced:!0,state:ft,mutations:ht,actions:wt};const _t={isLoggedIn:!1,user:{firstName:null,lastName:null,email:null,function:null},tokenStatus:null},yt={SET_IS_LOGGED_IN(e,t){e.isLoggedIn=t},SET_USER_DATA(e,t){e.user=t},LOGOUT(e){e.isLoggedIn=!1,e.user={firstName:null,lastName:null,email:null,function:null}},SET_TOKEN_STATUS(e,t){e.tokenStatus=t}},vt={async login({commit:e,dispatch:t},o){try{this.intentionalLogout=!1;let t=await Xe.post("/api/token/",o);console.log(t.data);let s=await Xe.get("/PPH/current_user/");e("SET_USER_DATA",s.data),e("SET_IS_LOGGED_IN",!0);try{await document.documentElement.requestFullscreen()}catch(a){console.error("Erreur lors de la demande de mode plein écran:",a)}return!0}catch(s){s.response&&401===s.response.status?t("notifications/showNotification",{message:"Aucun compte actif pour ces identifiants.",type:"error"},{root:!0}):t("notifications/showNotification",{message:"Une erreur est survenue. Veuillez réessayer plus tard ou contatez un administrateur.",type:"error"},{root:!0}),console.error(s);let e=s.response?.data?.detail||"Échec de la connexion. Veuillez vérifier vos identifiants et réessayer.";throw e}},async logout({commit:e,dispatch:t}){try{const o=await Xe.post("/logout/");if(this.intentionalLogout=!0,200!==o.status)throw new Error("Erreur lors de la déconnexion.");e("LOGOUT"),e("SET_IS_LOGGED_IN",!1),t("notifications/showNotification",{message:"Vous êtes déconnecté !",type:"success"},{root:!0}),Ql.push({name:"Login"}),(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen&&document.mozCancelFullScreen())}catch(o){console.error("Une erreur s'est produite lors de la déconnexion :",o),t("notifications/showNotification",{message:`Erreur lors de la déconnexion : ${o.message}`,type:"error"},{root:!0})}},async checkAuthentication({commit:e,dispatch:t}){if(!this.intentionalLogout)try{const o=await Xe.get("PPH/current_user/"),a=o.data;if(a)if(e("SET_USER_DATA",a),e("SET_IS_LOGGED_IN",!0),void 0!==a.tokenExpiry&&null!==a.tokenExpiry){const o=a.tokenExpiry;o<=600&&o>540?(e("SET_TOKEN_STATUS","nearExpiry"),t("notifications/showNotification",{message:"Votre session expirera dans 10 minutes !",type:"info"},{root:!0})):o<=540&&o>60?e("SET_TOKEN_STATUS","nearExpiry"):o<=300&&o>240?(e("SET_TOKEN_STATUS","nearInvalid"),t("notifications/showNotification",{message:"Votre session expirera dans 5 minutes !",type:"info"},{root:!0})):o<=240&&o>60?e("SET_TOKEN_STATUS","nearInvalid"):o<=60?(e("SET_TOKEN_STATUS","invalid"),e("LOGOUT"),Ql.push({name:"Login"}),t("notifications/showNotification",{message:"Votre session a expiré !",type:"info"},{root:!0}),(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen&&document.mozCancelFullScreen())):e("SET_TOKEN_STATUS","valid")}else e("SET_TOKEN_STATUS","valid");else e("SET_TOKEN_STATUS","invalid"),e("SET_IS_LOGGED_IN",!1)}catch(o){o.response&&401===o.response.status?(e("SET_TOKEN_STATUS","invalid"),e("SET_IS_LOGGED_IN",!1),t("notifications/showNotification",{message:"L'authentification est invalide ou a expiré !",type:"error"},{root:!0})):(console.error("Erreur lors de la vérification du token:",o),t("notifications/showNotification",{message:"Erreur lors de la vérification du token !",type:"error"},{root:!0}))}}};var bt={namespaced:!0,state:_t,mutations:yt,actions:vt};const Wt={user:{firstName:null,lastName:null,email:null,userName:null,function:null},isSubmitting:!1},kt={SET_USER_DATA(e,t){e.user=t},UPDATE_FIELD(e,{field:t,value:o}){e.user[t]=o},SET_SUBMITTING(e,t){e.isSubmitting=t}},St={async fetchUserData({commit:e,dispatch:t}){try{let t=await Xe.getUserData();e("SET_USER_DATA",t.data)}catch(o){console.error("Erreur lors de la récupération des données de l'utilisateur :",o),t("notifications/showNotification",{type:"error",message:"Une erreur est survenue lors de la récupération de vos données. Veuillez réessayer plus tard."},{root:!0})}},async updateUser({commit:e,state:t,dispatch:o}){e("SET_SUBMITTING",!0);try{await Xe.post("PPH/user/update/",t.user),o("notifications/showNotification",{message:"Utilisateur enregistré !",type:"success"},{root:!0})}catch(a){}finally{e("SET_SUBMITTING",!1)}}},qt={user:e=>e.user};var Ct={state:Wt,mutations:kt,actions:St,getters:qt};const Ut={error:null},It={SET_ERROR(e,t){e.error=t}},Ft={async fetchData({commit:e,dispatch:t},o){try{await Xe.get(o)}catch(a){let o=a.response?.data?.detail||"Une erreur est survenue.";e("SET_ERROR",o),t("notifications/showNotification",{message:o,type:"error"},{root:!0})}}};var xt={namespaced:!0,state:Ut,mutations:It,actions:Ft};const Et={isFullscreen:!1},Mt={SET_FULLSCREEN(e,t){e.isFullscreen=t}},Pt={toggleFullscreen({commit:e,state:t}){t.isFullscreen?(document.exitFullscreen(),e("SET_FULLSCREEN",!1)):(document.documentElement.requestFullscreen(),e("SET_FULLSCREEN",!0))}};var Tt={namespaced:!0,state:Et,mutations:Mt,actions:Pt};const Zt={userFormData:{last_name:"",first_name:"",user_name:"",email:""},anotherFormData:{field1:"",field2:""}},Lt={UPDATE_FIELD(e,{formName:t,field:o,value:a}){e[t]&&(e[t][o]=a)}},Vt={updateField({commit:e},{formName:t,field:o,value:a}){e("UPDATE_FIELD",{formName:t,field:o,value:a})}};var Nt={namespaced:!0,state:Zt,mutations:Lt,actions:Vt};const Qt=()=>({unites:[],matieres:[],showMenu:{},expanded:{},currentMatiere:null}),jt={allUnites:e=>e.unites,allMatieres:e=>e.matieres,showMenu:e=>e.showMenu,expanded:e=>e.expanded,currentMatiere:e=>e.currentMatiere},Ot={async addMatiere({dispatch:e},t){try{return await Xe.post("PPH/matieres-premieres/",t),e("notifications/showNotification",{message:"Matière première ajoutée avec succès",type:"success"},{root:!0}),Promise.resolve()}catch(o){return e("notifications/showNotification",{message:"Erreur lors de l'ajout de la matière première",type:"error"},{root:!0}),Promise.reject(o)}},async fetchMatierePremiereById(e){try{const t=await Xe.get(`PPH/matieres-premieres/${e}`);return t}catch(t){throw console.error("Erreur lors de la récupération de la matière première:",t),t}},async loadMatieresPremieres({commit:e,dispatch:t}){try{console.log("Chargement des matières premières");const t=await Xe.get("/PPH/matieres-premieres");e("SET_MATIERES",t.data),console.log(t.data)}catch(o){t("notifications/showNotification",{message:"Erreur lors du chargement des matières premières",type:"error"},{root:!0}),console.error(o)}},async loadUnites({commit:e,dispatch:t}){try{const t=await Xe.get("/PPH/unites-mesure");e("SET_UNITES",t.data),console.log(t.data)}catch(o){t("notifications/showNotification",{message:"Erreur lors du chargement des unités",type:"error"},{root:!0}),console.error(o)}},async toggleActivation({dispatch:e},t){const{matiereId:o,isStockee:a}=t;try{a?(await Xe.patch(`/PPH/matieres-premieres/${o}/`,{stockee:!1}),e("notifications/showNotification",{message:"Matière première rétirée du stock",type:"success"},{root:!0})):(await Xe.patch(`/PPH/matieres-premieres/${o}/`,{stockee:!0}),e("notifications/showNotification",{message:"Matière première stockée",type:"success"},{root:!0})),e("loadMatieresPremieres")}catch(s){e("notifications/showNotification",{message:"Erreur lors du changement d'état",type:"error"},{root:!0}),console.error(s)}},async deleteMatiere({dispatch:e},t){console.log("deleteMatiere appelée avec l'ID :",t);try{await Xe.delete(`/PPH/matieres-premieres/${t}`),e("notifications/showNotification",{message:"Matière première supprimée",type:"success"},{root:!0}),e("loadMatieresPremieres")}catch(o){e("notifications/showNotification",{message:"Erreur lors de la suppression",type:"error"},{root:!0}),console.error(o)}},toggleMenu({commit:e},t){e("TOGGLE_MENU",t)},toggleInfo({commit:e},t){e("TOGGLE_INFO",t)},getMatiere({commit:e},t){return Xe.get(`/PPH/matieres-premieres/${t}`).then((t=>(e("SET_CURRENT_MATIERE",t.data),t.data)))}},Rt={ADD_MATIERE(e,t){e.matieres.push(t)},SET_MATIERES(e,t){e.matieres=t},SET_UNITES(e,t){e.unites=t},TOGGLE_MENU(e,t){e.showMenu[t]=!e.showMenu[t]},TOGGLE_INFO(e,t){e.expanded[t]=!e.expanded[t]},SET_CURRENT_MATIERE(e,t){e.currentMatiere=t}};var Bt={namespaced:!0,state:Qt,getters:jt,actions:Ot,mutations:Rt};const At=()=>({types:[],parametres:[],listes:[],currentFormuleId:null}),Dt={allTypes:e=>e.types,allParametres:e=>e.parametres,allListes:e=>e.listes},$t={async addParametres({dispatch:e},t){try{return await Xe.post("PPH/parametres-formules/",t),e("notifications/showNotification",{message:"Paramètres ajoutés avec succès",type:"success"},{root:!0}),Promise.resolve()}catch(o){return e("notifications/showNotification",{message:"Erreur lors de l'ajout des paramètres",type:"error"},{root:!0}),Promise.reject(o)}},async addFormule({dispatch:e},t){try{return await Xe.post("PPH/nouvelle-formule/",t),e("notifications/showNotification",{message:"Formule ajouté avec succès",type:"success"},{root:!0}),Promise.resolve()}catch(o){return e("notifications/showNotification",{message:"Erreur lors de l'ajout de la formule",type:"error"},{root:!0}),Promise.reject(o)}},async addComposition({dispatch:e},t){try{return await Xe.post("PPH/composition/",t),e("notifications/showNotification",{message:"Composition ajoutée avec succès",type:"success"},{root:!0}),Promise.resolve()}catch(o){return e("notifications/showNotification",{message:"Erreur lors de l'ajout de la composition",type:"error"},{root:!0}),Promise.reject(o)}},async getCompositionsForFormule({dispatch:e},t){try{const e=await Xe.get(`PPH/composition/filter/${t}`);return Promise.resolve(e.data)}catch(o){return e("notifications/showNotification",{message:"Erreur lors de la récupération des compositions existantes",type:"error"},{root:!0}),Promise.reject(o)}},async addParametre({dispatch:e},t){try{return await Xe.post("PPH/parametres-formules/",t),e("notifications/showNotification",{message:"Paramètres ajoutés avec succès",type:"success"},{root:!0}),Promise.resolve()}catch(o){return e("notifications/showNotification",{message:"Erreur lors de l'ajout des paramètres",type:"error"},{root:!0}),Promise.reject(o)}},async loadListes({commit:e,dispatch:t}){try{const t=await Xe.get("/PPH/liste");e("SET_LISTE",t.data),console.log(t.data)}catch(o){t("notifications/showNotification",{message:"Erreur lors du chargement des listes",type:"error"},{root:!0}),console.error(o)}},async loadTypes({commit:e,dispatch:t}){try{const t=await Xe.get("/PPH/type-prep");e("SET_TYPE",t.data),console.log(t.data)}catch(o){t("notifications/showNotification",{message:"Erreur lors du chargement des types de préparations",type:"error"},{root:!0}),console.error(o)}},async loadParametres({commit:e,dispatch:t}){try{const t=await Xe.get("/PPH/parametres-prep");e("SET_PARAMETRE",t.data),console.log(t.data)}catch(o){t("notifications/showNotification",{message:"Erreur lors du chargement des paramètres",type:"error"},{root:!0}),console.error(o)}}},Ht={updateName(e,t){e.name=t},updateTypePrep(e,t){e.typePrep=t},ADD_TYPE(e,t){e.types.push(t)},SET_TYPE(e,t){e.types=t},SET_LISTE(e,t){e.listes=t},ADD_PARAMETRE(e,t){e.parametres.push(t)},SET_PARAMETRE(e,t){e.parametres=t}};var zt={namespaced:!0,state:At,getters:Dt,actions:$t,mutations:Ht};const Gt=()=>({voies:[]}),Kt={allVoies:e=>e.voies},Yt={async addVoie({dispatch:e},t){try{return await Xe.post("PPH/voie/",t),e("notifications/showNotification",{message:"Voie d'administration ajoutée avec succès",type:"success"},{root:!0}),Promise.resolve()}catch(o){return e("notifications/showNotification",{message:"Erreur lors de l'ajout de la voie d'administration",type:"error"},{root:!0}),Promise.reject(o)}},async loadVoies({commit:e,dispatch:t}){try{const t=await Xe.get("/PPH/voie");e("SET_VOIE",t.data),console.log(t.data)}catch(o){t("notifications/showNotification",{message:"Erreur lors du chargement des voies",type:"error"},{root:!0}),console.error(o)}}},Jt={ADD_VOIE(e,t){e.voies.push(t)},SET_VOIE(e,t){e.voies=t}};var Xt={namespaced:!0,state:Gt,getters:Kt,actions:Yt,mutations:Jt};const eo=(0,u.MT)({modules:{voiesAdministration:Xt,formules:zt,matieresPremieres:Bt,suppliers:st,users:ct,notifications:dt,contact:gt,user:Ct,auth:bt,error:xt,screen:Tt,forms:Nt}});var to=eo;const oo=(0,s._)("div",{class:"row justify-center items-center"},[(0,s._)("div",{class:"text-h6 text-center text-cyan-4"},"Inscription")],-1),ao={key:0},so={key:1},no={class:"row justify-center q-my-md"},lo={class:"row justify-center q-mt-lg text-cyan-4 pph-link"};function ro(e,t,o,a,n,l){const r=(0,s.up)("q-card-section"),i=(0,s.up)("q-separator"),c=(0,s.up)("UserRegisterForm"),u=(0,s.up)("q-icon"),m=(0,s.up)("router-link"),d=(0,s.up)("q-card"),p=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(p,{class:"row justify-center container-signup"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"card-signup shadow-10 col-md-3"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[oo])),_:1}),(0,s.Wm)(i,{color:"grey-7"}),(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[n.formSubmitted?((0,s.wg)(),(0,s.iD)("div",so,[(0,s._)("div",no,[(0,s.Wm)(u,{size:"10em",name:"check_circle",color:"green-4"})]),(0,s._)("div",lo,[(0,s.Wm)(m,{class:"q-mx-md text-cyan-4 pph-link",to:"/login"},{default:(0,s.w5)((()=>[(0,s.Uk)("Déjà inscrit ? Connectez-vous")])),_:1})])])):((0,s.wg)(),(0,s.iD)("div",ao,[(0,s.Wm)(c,{register:l.register},null,8,["register"])]))])),_:1})])),_:1})])),_:1})}const io={class:"q-pa-sm row"},co={class:"q-gutter-sm col-md-12"},uo={class:"row"},mo={class:"col-md-6"},po={class:"col-md-6"},fo={class:"row"},ho={class:"col-md-6"},wo={class:"col-md-6"},go={class:"row justify-center q-mt-sm"},_o={class:"col-md-10"},yo={class:"row q-pa-sm items-center"},vo={class:"offset-2 col-md-3"},bo=(0,s._)("p",{class:"text-cyan-4 col-2 text-center q-mt-sm"},"Ou",-1),Wo={class:"col-md-3"},ko={class:"row justify-center"},So={class:"col-md-10"};function qo(e,t,o,n,l,r){const i=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-btn"),m=(0,s.up)("q-separator"),d=(0,s.up)("q-form");return(0,s.wg)(),(0,s.j4)(d,{onSubmit:(0,a.iM)(r.onSubmit,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",io,[(0,s._)("div",co,[(0,s.Wm)(c,{ref:"emailInput",class:"my-0",modelValue:l.email,"onUpdate:modelValue":t[0]||(t[0]=e=>l.email=e),label:"E-mail",color:"cyan-4",onMouseover:t[1]||(t[1]=e=>r.changeLabelColor("emailInput","#ffb74d")),onMouseleave:t[2]||(t[2]=e=>r.changeLabelColor("emailInput","")),onFocus:t[3]||(t[3]=e=>r.onFocus("email","#4dd0e1")),onBlur:t[4]||(t[4]=e=>r.onBlur("email"))},{before:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"mail",color:"cyan-4"})])),_:1},8,["modelValue"]),(0,s._)("div",uo,[(0,s._)("div",mo,[(0,s.Wm)(c,{ref:"last_nameInput",class:"my-0",modelValue:l.last_name,"onUpdate:modelValue":t[5]||(t[5]=e=>l.last_name=e),label:"Nom",color:"cyan-4",onMouseover:t[6]||(t[6]=e=>r.changeLabelColor("last_nameInput","#ffb74d")),onMouseleave:t[7]||(t[7]=e=>r.changeLabelColor("last_nameInput","")),onFocus:t[8]||(t[8]=e=>r.onFocus("last_name","#4dd0e1")),onBlur:t[9]||(t[9]=e=>r.onBlur("last_name"))},{before:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"portrait",color:"cyan-4"})])),_:1},8,["modelValue"])]),(0,s._)("div",po,[(0,s.Wm)(c,{ref:"first_nameInput",class:"my-0",modelValue:l.first_name,"onUpdate:modelValue":t[10]||(t[10]=e=>l.first_name=e),label:"Prénom",color:"cyan-4",onMouseover:t[11]||(t[11]=e=>r.changeLabelColor("first_nameInput","#ffb74d")),onMouseleave:t[12]||(t[12]=e=>r.changeLabelColor("first_nameInput","")),onFocus:t[13]||(t[13]=e=>r.onFocus("first_name","#4dd0e1")),onBlur:t[14]||(t[14]=e=>r.onBlur("first_name"))},{before:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"portrait",color:"cyan-4"})])),_:1},8,["modelValue"])])]),(0,s._)("div",fo,[(0,s._)("div",ho,[(0,s.Wm)(c,{ref:"password1Input",class:"my-0",modelValue:l.password1,"onUpdate:modelValue":t[15]||(t[15]=e=>l.password1=e),label:"Mot de passe",type:"password",color:"cyan-4",onMouseover:t[16]||(t[16]=e=>r.changeLabelColor("password1Input","#ffb74d")),onMouseleave:t[17]||(t[17]=e=>r.changeLabelColor("password1Input","")),onFocus:t[18]||(t[18]=e=>r.onFocus("password1","#4dd0e1")),onBlur:t[19]||(t[19]=e=>r.onBlur("password1"))},{before:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"password",color:"cyan-4"})])),_:1},8,["modelValue"])]),(0,s._)("div",wo,[(0,s.Wm)(c,{ref:"password2Input",class:"my-0",modelValue:l.password2,"onUpdate:modelValue":t[20]||(t[20]=e=>l.password2=e),label:"Confirmation",type:"password",color:"cyan-4",onMouseover:t[21]||(t[21]=e=>r.changeLabelColor("password2Input","#ffb74d")),onMouseleave:t[22]||(t[22]=e=>r.changeLabelColor("password2Input","")),onFocus:t[23]||(t[23]=e=>r.onFocus("password2","#4dd0e1")),onBlur:t[24]||(t[24]=e=>r.onBlur("password2"))},{before:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"password",color:"cyan-4"})])),_:1},8,["modelValue"])])]),(0,s._)("div",go,[(0,s._)("div",_o,[(0,s.Wm)(u,{type:"submit",class:"q-mt-lg glossy full-width btn-grey-success-pph"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{class:"q-mx-sm",name:"person_add"}),(0,s.Uk)(" S'inscrire ")])),_:1})])]),(0,s._)("div",yo,[(0,s._)("div",vo,[(0,s.Wm)(m,{color:"grey-8"})]),bo,(0,s._)("div",Wo,[(0,s.Wm)(m,{color:"grey-8"})])]),(0,s._)("div",ko,[(0,s._)("div",So,[(0,s.Wm)(u,{class:"glossy full-width btn-grey-success-pph",onClick:r.redirectToLogin},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{class:"q-mr-sm",name:"login"}),(0,s.Uk)(" Se connecter ")])),_:1},8,["onClick"])])])])])])),_:1},8,["onSubmit"])}var Co={props:{register:{type:Function,required:!0}},data(){return{email:"",first_name:"",last_name:"",password1:"",password2:"",emailFocused:!1,first_nameFocused:!1,last_nameFocused:!1,password1Focused:!1,password2Focused:!1,isEmailHovered:!1}},methods:{onSubmit(){this.register({email:this.email,first_name:this.first_name,last_name:this.last_name,password1:this.password1,password2:this.password2})},changeLabelColor(e,t){this[e.replace("Input","")]||(this.$refs[e].$el.querySelector(".q-field__label").style.color=t)},redirectToLogin(){this.$router.push("/login")},onFocus(e,t){this[`${e}Focused`]=!0,this.changeLabelColor(`${e}Input`,t)},onBlur(e){this[`${e}Focused`]=!1}}};const Uo=(0,p.Z)(Co,[["render",qo]]);var Io=Uo;x()(Co,"components",{QForm:Pe.Z,QInput:qe.Z,QIcon:U.Z,QBtn:b.Z,QSeparator:C.Z,QField:Ce.Z});var Fo={components:{UserRegisterForm:Io},data(){return{error:null,formSubmitted:!1}},methods:{register(e){Xe.post("/accounts/register/",e,{headers:{"Content-Type":"application/json"}}).then((()=>{this.$q.notify({message:"Inscription réussie !\n Un mail de confirmation\nvient de vous être envoyé.",icon:"announcement",color:"green-4",timeout:1e4,position:"top-right"}),this.formSubmitted=!0})).catch((e=>{e.response&&400===e.response.status&&(this.error=e.response.data),this.$q.notify({message:"Échec de l'inscription.",icon:"warning amber",color:"red-3",timeout:5e3,position:"top-right"})}))}}};const xo=(0,p.Z)(Fo,[["render",ro]]);var Eo=xo;x()(Fo,"components",{QPage:je.Z,QCard:Ee.Z,QCardSection:Me.Z,QSeparator:C.Z,QIcon:U.Z});const Mo=(0,s._)("div",{class:"row justify-center items-center"},[(0,s._)("div",{class:"text-h6 text-center text-cyan-4"},"Connexion")],-1);function Po(e,t,o,a,n,l){const r=(0,s.up)("q-card-section"),i=(0,s.up)("q-separator"),c=(0,s.up)("UserLoginForm"),u=(0,s.up)("q-card"),m=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(m,{class:"row justify-center container-signup"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"card-signup shadow-10 col-md-3"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[Mo])),_:1}),(0,s.Wm)(i,{color:"grey-7"}),(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{onSubmit:l.loginUser},null,8,["onSubmit"])])),_:1})])),_:1})])),_:1})}const To={class:"q-pa-sm row"},Zo={class:"q-gutter-sm col-md-12"},Lo={class:"row"},Vo={class:"col-md-12"},No={class:"row justify-center q-mt-sm"},Qo={class:"col-md-10"},jo={class:"row justify-center q-mt-sm text-cyan-4 pph-link"},Oo={class:"row q-pa-sm items-center"},Ro={class:"offset-2 col-md-3"},Bo=(0,s._)("p",{class:"text-cyan-4 col-2 text-center q-mt-sm"},"Ou",-1),Ao={class:"col-md-3"},Do={class:"row justify-center"},$o={class:"col-md-10"};function Ho(e,t,o,n,l,r){const i=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-btn"),m=(0,s.up)("router-link"),d=(0,s.up)("q-separator"),p=(0,s.up)("q-form");return(0,s.wg)(),(0,s.j4)(p,{onSubmit:(0,a.iM)(r.onSubmit,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",To,[(0,s._)("div",Zo,[(0,s.Wm)(c,{ref:"usernameInput",class:"my-0",modelValue:l.username,"onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e),label:"Nom d'utilisateur",color:"cyan-4",onMouseover:t[1]||(t[1]=e=>r.changeLabelColor("usernameInput","#ffb74d")),onMouseleave:t[2]||(t[2]=e=>r.changeLabelColor("usernameInput","")),onFocus:t[3]||(t[3]=e=>r.onFocus("username","#4dd0e1")),onBlur:t[4]||(t[4]=e=>r.onBlur("username"))},{before:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"portrait",color:"cyan-4"})])),_:1},8,["modelValue"]),(0,s._)("div",Lo,[(0,s._)("div",Vo,[(0,s.Wm)(c,{ref:"password1Input",class:"my-0",modelValue:l.password1,"onUpdate:modelValue":t[5]||(t[5]=e=>l.password1=e),color:"cyan-4",label:"Mot de passe",type:"password",onMouseover:t[6]||(t[6]=e=>r.changeLabelColor("password1Input","#ffb74d")),onMouseleave:t[7]||(t[7]=e=>r.changeLabelColor("password1Input","")),onFocus:t[8]||(t[8]=e=>r.onFocus("password1","#4dd0e1")),onBlur:t[9]||(t[9]=e=>r.onBlur("password1"))},{before:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"password",color:"cyan-4"})])),_:1},8,["modelValue"])])]),(0,s._)("div",No,[(0,s._)("div",Qo,[(0,s.Wm)(u,{type:"submit",class:"q-mt-lg glossy full-width btn-grey-success-pph"},{default:(0,s.w5)((()=>[e.isLoggedIn?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(i,{key:0,class:"q-mx-sm",name:"login"})),(0,s.Uk)(" Se connecter ")])),_:1})]),(0,s._)("div",jo,[(0,s.Wm)(m,{class:"q-mx-md text-cyan-4 hover-effect pph-link",to:"/password-reset"},{default:(0,s.w5)((()=>[(0,s.Uk)("Mot de passe oublié ?")])),_:1})])]),(0,s._)("div",Oo,[(0,s._)("div",Ro,[(0,s.Wm)(d,{color:"grey-8"})]),Bo,(0,s._)("div",Ao,[(0,s.Wm)(d,{color:"grey-8"})])]),(0,s._)("div",Do,[(0,s._)("div",$o,[(0,s.Wm)(u,{class:"glossy full-width btn-grey-success-pph",onClick:r.redirectToRegister},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{class:"q-mr-sm",name:"person_add"}),(0,s.Uk)(" S'inscrire ")])),_:1},8,["onClick"])])])])])])),_:1},8,["onSubmit"])}var zo={data(){return{username:"",password1:"",usernameFocused:!1,passwordFocused:!1}},methods:{onSubmit(){this.$emit("submit",{username:this.username,password:this.password1})},changeLabelColor(e,t){this[e.replace("Input","")]||(this.$refs[e].$el.querySelector(".q-field__label").style.color=t)},redirectToRegister(){this.$router.push("/Register")},onFocus(e,t){this[`${e}Focused`]=!0,this.changeLabelColor(`${e}Input`,t)},onBlur(e){this[`${e}Focused`]=!1}}};const Go=(0,p.Z)(zo,[["render",Ho]]);var Ko=Go;x()(zo,"components",{QForm:Pe.Z,QInput:qe.Z,QIcon:U.Z,QBtn:b.Z,QSeparator:C.Z,QField:Ce.Z});var Yo={components:{UserLoginForm:Ko},computed:{...(0,u.rn)("auth",["isLoggedIn","user"])},mounted(){this.$route.query.accountActivated&&this.showActivatedNotification()},methods:{...(0,u.OI)("error",["SET_ERROR"]),...(0,u.nv)("auth",["login"]),async loginUser(e){try{await this.login(e),this.$store.dispatch("notifications/showNotification",{message:"Connexion réussie !",type:"success"}),this.$store.dispatch("notifications/showNotification",{message:`Bienvenue ${this.user.firstName} !`,type:"info"}),this.$router.push({name:"Home"})}catch(t){this.SET_ERROR(t)}},showActivatedNotification(){this.$store.dispatch("notifications/showNotification",{message:"Votre compte est activé !",type:"success"})}}};const Jo=(0,p.Z)(Yo,[["render",Po]]);var Xo=Jo;x()(Yo,"components",{QPage:je.Z,QCard:Ee.Z,QCardSection:Me.Z,QSeparator:C.Z});const ea=(0,s._)("div",{class:"row justify-center items-center"},[(0,s._)("div",{class:"text-h6 text-center text-cyan-4"},"Nouveau mot de passe")],-1);function ta(e,t,o,a,n,l){const r=(0,s.up)("q-card-section"),i=(0,s.up)("q-separator"),c=(0,s.up)("PasswordResetForm"),u=(0,s.up)("q-card"),m=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(m,{class:"row justify-center container-signup"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"card-signup shadow-10 col-md-3"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[ea])),_:1}),(0,s.Wm)(i,{color:"grey-7"}),(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{register:e.register},null,8,["register"])])),_:1})])),_:1})])),_:1})}var oa=o(6237);const aa={class:"q-pa-sm row"},sa={class:"q-gutter-sm col-md-12"},na={class:"row justify-center q-mt-sm"},la={class:"col-md-10"},ra={class:"row q-pa-sm items-center"},ia={class:"offset-2 col-md-3"},ca=(0,s._)("p",{class:"text-cyan-4 col-2 text-center q-mt-sm"},"Ou",-1),ua={class:"col-md-3"},ma={class:"row justify-center"},da={class:"col-md-10"};function pa(e,t,o,n,l,r){const i=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-btn"),m=(0,s.up)("q-separator"),d=(0,s.up)("q-form");return(0,s.wg)(),(0,s.j4)(d,{onSubmit:(0,a.iM)(r.onSubmit,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",aa,[(0,s._)("div",sa,[(0,s.Wm)(c,{ref:"emailInput",class:"my-0",modelValue:l.email,"onUpdate:modelValue":t[0]||(t[0]=e=>l.email=e),label:"E-mail",color:"cyan-4",onMouseover:t[1]||(t[1]=e=>r.changeLabelColor("emailInput","#ffb74d")),onMouseleave:t[2]||(t[2]=e=>r.changeLabelColor("emailInput","")),onFocus:t[3]||(t[3]=e=>r.onFocus("email","#4dd0e1")),onBlur:t[4]||(t[4]=e=>r.onBlur("email"))},{before:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"portrait",color:"cyan-4"})])),_:1},8,["modelValue"]),(0,s._)("div",na,[(0,s._)("div",la,[(0,s.Wm)(u,{type:"submit",class:"q-mt-lg glossy full-width btn-grey-primary-pph"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{class:"q-mx-sm",name:"restart_alt"}),(0,s.Uk)(" Réinitialiser ")])),_:1})])]),(0,s._)("div",ra,[(0,s._)("div",ia,[(0,s.Wm)(m,{color:"grey-8"})]),ca,(0,s._)("div",ua,[(0,s.Wm)(m,{color:"grey-8"})])]),(0,s._)("div",ma,[(0,s._)("div",da,[(0,s.Wm)(u,{class:"glossy full-width btn-grey-success-pph",onClick:r.redirectToLogin},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{class:"q-mr-sm",name:"login"}),(0,s.Uk)(" Se connecter ")])),_:1},8,["onClick"])])])])])])),_:1},8,["onSubmit"])}var fa={data(){return{email:"",emailFocused:!1}},methods:{onSubmit(){this.$emit("submit",{email:this.email})},changeLabelColor(e,t){this[e.replace("Input","")]||(this.$refs[e].$el.querySelector(".q-field__label").style.color=t)},redirectToLogin(){this.$router.push("/login")},onFocus(e,t){this[`${e}Focused`]=!0,this.changeLabelColor(`${e}Input`,t)},onBlur(e){this[`${e}Focused`]=!1}}};const ha=(0,p.Z)(fa,[["render",pa]]);var wa=ha;x()(fa,"components",{QForm:Pe.Z,QInput:qe.Z,QIcon:U.Z,QBtn:b.Z,QSeparator:C.Z,QField:Ce.Z});var ga={components:{PasswordResetForm:wa},setup(){const e=(0,oa.iH)(""),t=(0,oa.iH)(""),o=async()=>{try{const o=await Ae.Z.post("http://localhost:8000/dj-rest-auth/password/reset/",{email:e.value});200===o.status&&(t.value="Votre demande de réinitialisation du mot de passe a été soumise.")}catch(o){console.error(o)}};return{email:e,message:t,submitForm:o}}};const _a=(0,p.Z)(ga,[["render",ta]]);var ya=_a;x()(ga,"components",{QPage:je.Z,QCard:Ee.Z,QCardSection:Me.Z,QSeparator:C.Z});const va={class:"row justify-center"},ba={class:"col-12"},Wa=(0,s._)("h5",{class:"text-cyan-4 q-mb-lg text-center"},"Fiche fournisseur",-1);function ka(e,t,o,a,n,l){const r=(0,s.up)("CreateSupplierForm"),i=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(i,{class:"container"},{default:(0,s.w5)((()=>[(0,s._)("div",va,[(0,s._)("div",ba,[Wa,(0,s.Wm)(r,{onSubmit:l.saveSupplier},null,8,["onSubmit"])])])])),_:1})}const Sa={class:"row justify-center items-center"},qa={class:"col-4"},Ca={class:"col-6 q-ml-sm"},Ua={class:"col-4"},Ia={class:"col-3 q-ml-sm"},Fa={class:"col-3"},xa={class:"col-4 offset-1"},Ea={class:"col-6"},Ma={class:"col-4"},Pa={class:"col-4"},Ta={class:"col-4 offset-2"},Za={class:"col-6 offset-1"},La={class:"row justify-center q-my-md"},Va={class:"col-2"};function Na(e,t,o,n,l,r){const i=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-card-section"),m=(0,s.up)("q-card"),d=(0,s.up)("q-file"),p=(0,s.up)("q-btn"),f=(0,s.up)("q-form");return(0,s.wg)(),(0,s.j4)(f,{onSubmit:(0,a.iM)(r.onSubmit,["prevent"]),enctype:"multipart/form-data"},{default:(0,s.w5)((()=>[(0,s._)("div",Sa,[(0,s.Wm)(m,{class:"col-5 shadow-5",style:{"background-color":"#e6e5e8"}},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"q-mb-lg justify-center row"},{default:(0,s.w5)((()=>[(0,s._)("div",qa,[(0,s.Wm)(c,{ref:"nameInput",class:"my-0",modelValue:l.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.name=e),label:"Nom",color:"cyan-4",onMouseover:t[1]||(t[1]=e=>r.changeLabelColor("nameInput","#ffb74d")),onMouseleave:t[2]||(t[2]=e=>r.changeLabelColor("nameInput","")),onFocus:t[3]||(t[3]=e=>r.onFocus("name","#4dd0e1")),onBlur:t[4]||(t[4]=e=>r.onBlur("name"))},{before:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"forklift",color:"cyan-4"})])),_:1},8,["modelValue"])]),(0,s._)("div",Ca,[(0,s.Wm)(c,{ref:"addressInput",class:"my-0",modelValue:l.address,"onUpdate:modelValue":t[5]||(t[5]=e=>l.address=e),label:"Adresse",color:"cyan-4",onMouseover:t[6]||(t[6]=e=>r.changeLabelColor("addressInput","#ffb74d")),onMouseleave:t[7]||(t[7]=e=>r.changeLabelColor("addressInput","")),onFocus:t[8]||(t[8]=e=>r.onFocus("address","#4dd0e1")),onBlur:t[9]||(t[9]=e=>r.onBlur("address"))},{before:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"mail",color:"cyan-4"})])),_:1},8,["modelValue"])])])),_:1}),(0,s.Wm)(u,{class:"row q-mb-lg justify-center"},{default:(0,s.w5)((()=>[(0,s._)("div",Ua,[(0,s.Wm)(c,{ref:"postalInput",class:"my-0",modelValue:l.postal,"onUpdate:modelValue":t[10]||(t[10]=e=>l.postal=e),label:"Code postal",color:"cyan-4",onMouseover:t[11]||(t[11]=e=>r.changeLabelColor("postalInput","#ffb74d")),onMouseleave:t[12]||(t[12]=e=>r.changeLabelColor("postalInput","")),onFocus:t[13]||(t[13]=e=>r.onFocus("postal","#4dd0e1")),onBlur:t[14]||(t[14]=e=>r.onBlur("postal"))},{before:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"contact_mail",color:"cyan-4"})])),_:1},8,["modelValue"])]),(0,s._)("div",Ia,[(0,s.Wm)(c,{ref:"cityInput",class:"my-0",modelValue:l.city,"onUpdate:modelValue":t[15]||(t[15]=e=>l.city=e),label:"Ville",color:"cyan-4",onMouseover:t[16]||(t[16]=e=>r.changeLabelColor("cityInput","#ffb74d")),onMouseleave:t[17]||(t[17]=e=>r.changeLabelColor("cityInput","")),onFocus:t[18]||(t[18]=e=>r.onFocus("city","#4dd0e1")),onBlur:t[19]||(t[19]=e=>r.onBlur("city"))},{before:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"location_city",color:"cyan-4"})])),_:1},8,["modelValue"])]),(0,s._)("div",Fa,[(0,s.Wm)(c,{ref:"countryInput",class:"my-0",modelValue:l.country,"onUpdate:modelValue":t[20]||(t[20]=e=>l.country=e),label:"Pays",color:"cyan-4",onMouseover:t[21]||(t[21]=e=>r.changeLabelColor("countryInput","#ffb74d")),onMouseleave:t[22]||(t[22]=e=>r.changeLabelColor("countryInput","")),onFocus:t[23]||(t[23]=e=>r.onFocus("country","#4dd0e1")),onBlur:t[24]||(t[24]=e=>r.onBlur("country"))},{before:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"flag",color:"cyan-4"})])),_:1},8,["modelValue"])])])),_:1}),(0,s.Wm)(u,{class:"row q-mb-lg"},{default:(0,s.w5)((()=>[(0,s._)("div",xa,[(0,s.Wm)(c,{ref:"phoneInput",class:"my-0",modelValue:l.phone,"onUpdate:modelValue":t[25]||(t[25]=e=>l.phone=e),label:"Téléphone",color:"cyan-4",onMouseover:t[26]||(t[26]=e=>r.changeLabelColor("phoneInput","#ffb74d")),onMouseleave:t[27]||(t[27]=e=>r.changeLabelColor("phoneInput","")),onFocus:t[28]||(t[28]=e=>r.onFocus("phone","#4dd0e1")),onBlur:t[29]||(t[29]=e=>r.onBlur("phone"))},{before:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"phone",color:"cyan-4"})])),_:1},8,["modelValue"])])])),_:1})])),_:1}),(0,s.Wm)(m,{class:"col-5 q-mx-sm shadow-5",style:{"background-color":"#e6e5e8"}},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"q-mb-lg row justify-center"},{default:(0,s.w5)((()=>[(0,s._)("div",Ea,[(0,s.Wm)(c,{ref:"emailInput",class:"my-0",modelValue:l.email,"onUpdate:modelValue":t[30]||(t[30]=e=>l.email=e),type:"email",label:"E-mail de contact",color:"cyan-4",onMouseover:t[31]||(t[31]=e=>r.changeLabelColor("emailInput","#ffb74d")),onMouseleave:t[32]||(t[32]=e=>r.changeLabelColor("emailInput","")),onFocus:t[33]||(t[33]=e=>r.onFocus("email","#4dd0e1")),onBlur:t[34]||(t[34]=e=>r.onBlur("email"))},{before:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"mail",color:"cyan-4"})])),_:1},8,["modelValue"])]),(0,s._)("div",Ma,[(0,s.Wm)(c,{ref:"siteInput",class:"my-0",modelValue:l.site,"onUpdate:modelValue":t[35]||(t[35]=e=>l.site=e),type:"url",label:"Site",color:"cyan-4",onMouseover:t[36]||(t[36]=e=>r.changeLabelColor("siteInput","#ffb74d")),onMouseleave:t[37]||(t[37]=e=>r.changeLabelColor("siteInput","")),onFocus:t[38]||(t[38]=e=>r.onFocus("site","#4dd0e1")),onBlur:t[39]||(t[39]=e=>r.onBlur("site"))},{before:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"web",color:"cyan-4"})])),_:1},8,["modelValue"])])])),_:1}),(0,s.Wm)(u,{class:"row q-mb-lg justify-center"},{default:(0,s.w5)((()=>[(0,s._)("div",Pa,[(0,s.Wm)(c,{ref:"user_codeInput",class:"my-0",modelValue:l.user_code,"onUpdate:modelValue":t[40]||(t[40]=e=>l.user_code=e),label:"Code client",color:"cyan-4",onMouseover:t[41]||(t[41]=e=>r.changeLabelColor("user_codeInput","#ffb74d")),onMouseleave:t[42]||(t[42]=e=>r.changeLabelColor("user_codeInput","")),onFocus:t[43]||(t[43]=e=>r.onFocus("user_code","#4dd0e1")),onBlur:t[44]||(t[44]=e=>r.onBlur("user_code"))},{before:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"sell",color:"cyan-4"})])),_:1},8,["modelValue"])]),(0,s._)("div",Ta,[(0,s.Wm)(c,{ref:"passwordInput",class:"my-0",modelValue:l.password,"onUpdate:modelValue":t[45]||(t[45]=e=>l.password=e),label:"Mot de passe",color:"cyan-4",onMouseover:t[46]||(t[46]=e=>r.changeLabelColor("passwordInput","#ffb74d")),onMouseleave:t[47]||(t[47]=e=>r.changeLabelColor("passwordInput","")),onFocus:t[48]||(t[48]=e=>r.onFocus("password","#4dd0e1")),onBlur:t[49]||(t[49]=e=>r.onBlur("password"))},{before:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"password",color:"cyan-4"})])),_:1},8,["modelValue"])])])),_:1}),(0,s.Wm)(u,{class:"row q-mb-lg"},{default:(0,s.w5)((()=>[(0,s._)("div",Za,[(0,s.Wm)(d,{ref:"logoInput",class:"my-0",modelValue:l.logo,"onUpdate:modelValue":t[50]||(t[50]=e=>l.logo=e),accept:".jpg,.jpeg,.png,.gif",label:"Choisir un logo",color:"cyan-4",onMouseover:t[51]||(t[51]=e=>r.changeLabelColor("logoInput","#ffb74d")),onMouseleave:t[52]||(t[52]=e=>r.changeLabelColor("logoInput","")),onFocus:t[53]||(t[53]=e=>r.onFocus("logo","#4dd0e1")),onBlur:t[54]||(t[54]=e=>r.onBlur("logo")),onInput:r.handleFileChange},{before:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"branding_watermark",color:"cyan-4"})])),_:1},8,["modelValue","onInput"])])])),_:1})])),_:1})]),(0,s._)("div",La,[(0,s._)("div",Va,[(0,s.Wm)(p,{type:"submit",class:"q-mt-lg glossy full-width btn-grey-success-pph"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{class:"q-mx-sm",name:"library_add"}),(0,s.Uk)(" Enregistrer ")])),_:1})])])])),_:1},8,["onSubmit"])}var Qa={data(){return{supplierId:this.$route.params.id,name:"",postal:"",address:"",city:"",country:"",logo:null,phone:"",email:"",site:"",user_code:"",password:"",is_activate:!0,nameFocused:!1,postalFocused:!1,addressFocused:!1,cityFocused:!1,countryFocused:!1,logoFocused:!1,phoneFocused:!1,emailFocused:!1,siteFocused:!1,user_codeFocused:!1,passwordFocused:!1,isEmailHovered:!1,errorMessage:null}},methods:{...(0,u.nv)("suppliers",["addSupplier"]),async onSubmit(){const e=new FormData;e.append("name",this.name),e.append("postal",this.postal),e.append("address",this.address),e.append("city",this.city),e.append("country",this.country),this.logo&&e.append("logo",this.logo),e.append("phone",this.phone),e.append("site",this.site),e.append("email",this.email),e.append("user_code",this.user_code),e.append("password",this.password),e.append("is_activate",this.is_activate);try{await this.addSupplier(e),this.$emit("supplier-added-successfully"),this.resetForm()}catch(t){console.error("Error adding supplier:",t)}},resetForm(){this.name="",this.postal="",this.address="",this.city="",this.country="",this.logo=null,this.phone="",this.email="",this.site="",this.user_code="",this.password="",this.is_activate=!0},changeLabelColor(e,t){this[e.replace("Input","")]||(this.$refs[e].$el.querySelector(".q-field__label").style.color=t)},redirectToLogin(){this.$router.push("/login")},onFocus(e,t){this[`${e}Focused`]=!0,this.changeLabelColor(`${e}Input`,t)},onBlur(e){this[`${e}Focused`]=!1},handleFileChange(e){this.logo=e}},computed:{...(0,u.Se)("suppliers",["currentSupplier"])},watch:{currentSupplier(e){e&&(this.name=e.name,this.address=e.address,this.postal=e.postal,this.city=e.city,this.country=e.country,this.phone=e.phone,this.site=e.site,this.email=e.email,this.user_code=e.user_code,this.password=e.password,this.logo=e.logo)}}},ja=o(6967);const Oa=(0,p.Z)(Qa,[["render",Na]]);var Ra=Oa;x()(Qa,"components",{QForm:Pe.Z,QCard:Ee.Z,QCardSection:Me.Z,QInput:qe.Z,QIcon:U.Z,QFile:ja.Z,QBtn:b.Z,QField:Ce.Z});var Ba={components:{CreateSupplierForm:Ra},data(){return{error:null,formSubmitted:!1}},methods:{saveSupplier(e){console.log(e),Xe.post("PPH/suppliers/",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{this.formSubmitted=!0,console.log(e.data)})).catch((e=>{console.error(e)}))}}};const Aa=(0,p.Z)(Ba,[["render",ka]]);var Da=Aa;x()(Ba,"components",{QPage:je.Z});const $a={class:"row justify-center"},Ha={class:"col-md-12"},za={class:"row"},Ga={class:"col-1 q-ml-sm q-mt-sm"},Ka={class:"col-2 q-ml-lg offset-8"},Ya={class:"row q-mt-sm"},Ja={class:"col col-12 justify-center"},Xa={class:"row justify-start"},es=["onClick"],ts=["onClick"],os=["href"];function as(e,t,o,n,l,r){const i=(0,s.up)("q-btn"),c=(0,s.up)("router-link"),u=(0,s.up)("q-icon"),m=(0,s.up)("q-input"),d=(0,s.up)("q-img"),p=(0,s.up)("q-item-section"),f=(0,s.up)("q-item"),h=(0,s.up)("q-list"),w=(0,s.up)("q-menu"),g=(0,s.up)("q-card"),y=(0,s.up)("q-page"),v=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(y,null,{default:(0,s.w5)((()=>[(0,s._)("div",$a,[(0,s._)("div",Ha,[(0,s._)("div",za,[(0,s._)("div",Ga,[(0,s.Wm)(c,{to:"/supplier/"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{round:"",class:"glossy btn-grey-primary-pph",icon:"add"})])),_:1})]),(0,s._)("div",Ka,[(0,s.Wm)(m,{ref:"searchInput",modelValue:l.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchQuery=e),label:"Recherche...",onInput:r.filterSuppliers,color:"cyan-4",onMouseover:t[1]||(t[1]=e=>r.changeLabelColor("searchInput","#ffb74d")),onMouseleave:t[2]||(t[2]=e=>r.changeLabelColor("searchInput","")),onFocus:t[3]||(t[3]=e=>r.onFocus("searchQuery","#4dd0e1")),onBlur:t[4]||(t[4]=e=>r.onBlur("searchQuery"))},{before:(0,s.w5)((()=>[(0,s.Wm)(u,{name:"search",color:"cyan-4"})])),_:1},8,["modelValue","onInput"])])]),(0,s._)("div",Ya,[(0,s._)("div",Ja,[(0,s._)("div",Xa,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.filteredSuppliers,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"col-1 q-pa-sm",key:t.id,onClick:e=>r.redirectToLink(t.id)},[(0,s.Wm)(g,{bordered:"",class:(0,_.C_)(["card-mini justify-center items-center text-center relative",{"bd-red-4":!t.is_activate}])},{default:(0,s.w5)((()=>[(0,s._)("div",{onClick:e=>r.redirectToLink(t.id),class:"card-content"},[(0,s.Wm)(d,{class:"logo-card-mini",src:t.logo,alt:t.name},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,_.C_)(["absolute-top hover-effect q-my-none",{"text-cyan-1":t.is_activate,"text-red-4":!t.is_activate}])},(0,_.zw)(t.name),3)])),_:2},1032,["src","alt"]),(0,s.Wm)(i,{flat:"",color:"white",class:"absolute-top-right hover-effect q-pa-none q-ma-none",icon:"more_vert",onClick:(0,a.iM)((o=>e.toggleMenu(t.id)),["stop"])},null,8,["onClick"]),(0,s.Wm)(w,{fit:"",anchor:"top right",self:"bottom middle",modelValue:e.showMenu[t.id],"onUpdate:modelValue":o=>e.showMenu[t.id]=o},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{style:{"min-width":"100px"}},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(f,{clickable:"",onClick:(0,a.iM)((o=>e.deleteSupplier(t.id)),["stop"])},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Supprimer")])),_:1})])),_:2},1032,["onClick"])),[[v]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(f,{clickable:"",onClick:(0,a.iM)((o=>e.toggleActivation({supplierId:t.id,isActive:t.is_activate})),["stop"])},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,_.zw)(t.is_activate?"Désactiver":"Activer"),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[v]])])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue"])],8,ts),(0,s.Wm)(i,{class:"absolute-bottom-right hover-effect q-pa-none q-ma-none",color:"cyan-4",round:"",flat:"",dense:"",icon:"info",onClick:(0,a.iM)((o=>e.toggleInfo(t.id)),["stop"])},null,8,["onClick"]),(0,s.Wm)(w,{fit:"",anchor:"bottom right",self:"top middle",modelValue:e.expanded[t.id],"onUpdate:modelValue":o=>e.expanded[t.id]=o},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{style:{"min-width":"100px"}},{default:(0,s.w5)((()=>[t.phone?((0,s.wg)(),(0,s.j4)(f,{key:0},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:"",class:"text-cyan-4"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Téléphone : ")])),_:1}),(0,s.Wm)(p,{class:"text-grey-7"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,_.zw)(t.phone),1)])),_:2},1024)])),_:2},1024)):(0,s.kq)("",!0),t.email?((0,s.wg)(),(0,s.j4)(f,{key:1},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:"",class:"text-cyan-4"},{default:(0,s.w5)((()=>[(0,s.Uk)(" E-mail : ")])),_:1}),(0,s.Wm)(p,{class:"text-grey-7"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,_.zw)(t.email),1)])),_:2},1024)])),_:2},1024)):(0,s.kq)("",!0),t.site?((0,s.wg)(),(0,s.j4)(f,{key:2,clickable:"",class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:"",class:"text-cyan-4"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Site : ")])),_:1}),(0,s._)("a",{href:t.site,target:"_blank",rel:"noopener noreferrer",class:"pph-link"},[(0,s.Wm)(p,{class:"row items-center text-grey-7 hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,_.zw)(t.site),1)])),_:2},1024)],8,os)])),_:2},1024)):(0,s.kq)("",!0),t.user_code?((0,s.wg)(),(0,s.j4)(f,{key:3},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:"",class:"text-cyan-4"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Code utilisateur : ")])),_:1}),(0,s.Wm)(p,{class:"text-grey-7"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,_.zw)(t.user_code),1)])),_:2},1024)])),_:2},1024)):(0,s.kq)("",!0),t.password?((0,s.wg)(),(0,s.j4)(f,{key:4},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:"",class:"text-cyan-4"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Mot de passe : ")])),_:1}),(0,s.Wm)(p,{class:"text-grey-7"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,_.zw)(t.password),1)])),_:2},1024)])),_:2},1024)):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["class"])],8,es)))),128))])])])])])])),_:1})}var ss={name:"SuppliersCards",data(){return{searchQuery:""}},computed:{...(0,u.Se)("suppliers",["allSuppliers","showMenu","expanded"]),filteredSuppliers(){return this.searchQuery?this.allSuppliers.filter((e=>e.name.toLowerCase().startsWith(this.searchQuery.toLowerCase()))):this.allSuppliers}},created(){this.loadSuppliers(),console.log(this.allSuppliers)},methods:{...(0,u.nv)("suppliers",["loadSuppliers","toggleActivation","deleteSupplier","toggleMenu","toggleInfo"]),filterSuppliers(){return this.searchQuery?this.allSuppliers.filter((e=>e.name.toLowerCase().startsWith(this.searchQuery.toLowerCase()))):this.allSuppliers},changeLabelColor(e,t){this[e.replace("Input","")]||(this.$refs[e].$el.querySelector(".q-field__label").style.color=t)},onFocus(e,t){this[`${e}Focused`]=!0,this.changeLabelColor(`${e}Input`,t)},onBlur(e){this[`${e}Focused`]=!1},redirectToLink(e){this.$router.push(`/supplier/${e}`)}}},ns=o(4711);const ls=(0,p.Z)(ss,[["render",as]]);var rs=ls;x()(ss,"components",{QPage:je.Z,QBtn:b.Z,QInput:qe.Z,QIcon:U.Z,QCard:Ee.Z,QImg:ns.Z,QMenu:W.Z,QList:k.Z,QItem:S.Z,QItemSection:q.Z,QField:Ce.Z}),x()(ss,"directives",{ClosePopup:I.Z});const is={class:"row justify-center"},cs={class:"col-12"},us=(0,s._)("h5",{class:"text-cyan-4 q-mb-lg text-center"},"Profil utilisateur",-1);function ms(e,t,o,a,n,l){const r=(0,s.up)("UserProfilForm"),i=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(i,{class:"container"},{default:(0,s.w5)((()=>[(0,s._)("div",is,[(0,s._)("div",cs,[us,(0,s.Wm)(r)])])])),_:1})}const ds={class:"row justify-center items-center"},ps={class:"row justify-center q-my-md"},fs={class:"col-2"};function hs(e,t,o,n,l,r){const i=(0,s.up)("CustomInput"),c=(0,s.up)("q-card-section"),u=(0,s.up)("CustomSelect"),m=(0,s.up)("q-card"),d=(0,s.up)("q-icon"),p=(0,s.up)("q-btn"),f=(0,s.up)("q-form");return(0,s.wg)(),(0,s.j4)(f,{onSubmit:(0,a.iM)(r.handleSubmit,["prevent"]),enctype:"multipart/form-data"},{default:(0,s.w5)((()=>[(0,s._)("div",ds,[(0,s.Wm)(m,{class:"col-6 shadow-5",style:{"background-color":"#e6e5e8"}},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"q-mb-lg justify-center row"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{class:"col-4",inputModel:e.userFormData.last_name,"onUpdate:inputModel":t[0]||(t[0]=t=>e.updateField("userFormData","last_name",t)),label:"Nom",inputRef:"last_nameRef",iconName:"portrait",modelName:"last_name"},null,8,["inputModel"]),(0,s.Wm)(i,{class:"col-4 offset-2",inputModel:e.userFormData.first_name,"onUpdate:inputModel":t[1]||(t[1]=t=>e.updateField("userFormData","first_name",t)),label:"Prénom",inputRef:"first_nameRef",iconName:"portrait",modelName:"first_name"},null,8,["inputModel"])])),_:1}),(0,s.Wm)(c,{class:"q-mb-lg justify-center row"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{class:"col-4",inputModel:e.userFormData.email,"onUpdate:inputModel":t[2]||(t[2]=t=>e.updateField("userFormData","email",t)),label:"E-mail",inputRef:"emailRef",iconName:"email",modelName:"email"},null,8,["inputModel"]),(0,s.Wm)(i,{class:"col-4 offset-2",inputModel:e.userFormData.user_name,"onUpdate:inputModel":t[3]||(t[3]=t=>e.updateField("userFormData","user_name",t)),label:"Nom d'utilisateur",inputRef:"usernameRef",iconName:"portrait",modelName:"username"},null,8,["inputModel"])])),_:1}),(0,s.Wm)(c,{class:"q-mb-lg row"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"col-4 offset-1",label:"Fonction",options:l.userFunctions,inputRef:"dropdownInput",inputName:"dropdown",iconName:"badge",onInput:e.onSelectChange},null,8,["options","onInput"])])),_:1})])),_:1})]),(0,s._)("div",ps,[(0,s._)("div",fs,[(0,s.Wm)(p,{type:"submit",class:"q-mt-lg glossy full-width btn-grey-success-pph"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"q-mx-sm",name:"library_add"}),(0,s.Uk)(" Enregistrer ")])),_:1})])])])),_:1},8,["onSubmit"])}function ws(e,t,o,a,n,l){const r=(0,s.up)("q-icon"),i=(0,s.up)("q-input");return(0,s.wg)(),(0,s.j4)(i,{clearable:"",class:"my-0",value:o.inputModel,onInput:l.updateValue,ref:o.inputRef,label:o.label,color:"cyan-4",onMouseover:t[0]||(t[0]=e=>l.changeLabelColor(o.inputRef,o.hoverColor)),onMouseleave:t[1]||(t[1]=e=>l.changeLabelColor(o.inputRef,"")),onFocus:t[2]||(t[2]=e=>l.onFocus(o.modelName,o.focusColor)),onBlur:t[3]||(t[3]=e=>l.onBlur(o.modelName))},{before:(0,s.w5)((()=>[(0,s.Wm)(r,{name:o.iconName,color:"cyan-4"},null,8,["name"])])),_:1},8,["value","onInput","label"])}var gs={data(){return{isFocused:!1}},props:{inputModel:{type:[String,Number],default:"",required:!0},label:{type:String,required:!0},inputRef:{type:String,required:!0},iconName:{type:String,required:!0},modelName:{type:String,required:!0},hoverColor:{type:String,default:"#ffb74d"},focusColor:{type:String,default:"#4dd0e1"}},methods:{updateValue(e){console.log("updateValue is called with:",e.target.value),this.$emit("update:inputModel",e.target.value)},changeLabelColor(e,t){this.$refs[e].$el.querySelector(".q-field__label").style.color=t},onFocus(){this.isFocused=!0,this.$emit("update:focused",!0)},onBlur(e){this.$emit("blur",e),this.isFocused=!1,this.$emit("update:focused",!1)}}};const _s=(0,p.Z)(gs,[["render",ws]]);var ys=_s;function vs(e,t,o,a,n,l){const r=(0,s.up)("q-icon"),i=(0,s.up)("q-select");return(0,s.wg)(),(0,s.j4)(i,{class:"my-0 custom-select",ref:o.inputRef,label:o.label,options:o.options,modelValue:n.selectedValue,"onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedValue=e),onMouseover:t[1]||(t[1]=e=>l.changeLabelColor(o.inputRef,o.hoverColor)),onMouseleave:t[2]||(t[2]=e=>l.changeLabelColor(o.inputRef,"")),onFocus:t[3]||(t[3]=e=>l.onFocus(o.inputName,o.focusColor)),onBlur:t[4]||(t[4]=e=>l.onBlur(o.inputName))},{before:(0,s.w5)((()=>[(0,s.Wm)(r,{name:o.iconName,color:"cyan-4"},null,8,["name"])])),_:1},8,["label","options","modelValue"])}x()(gs,"components",{QInput:qe.Z,QIcon:U.Z,QField:Ce.Z});var bs={props:{iconName:String,label:String,options:Array,hoverColor:{type:String,default:"#ffb74d"},focusColor:{type:String,default:"#4dd0e1"},inputRef:String,inputName:String},data(){return{selectedValue:null}},methods:{changeLabelColor(e,t){this.$refs[e].$el.querySelector(".q-field__label").style.color=t},onFocus(e,t){this.$emit("focus",e,t)},onBlur(e){this.$emit("blur",e)}},watch:{selectedValue(e){this.$emit("input",e)}}},Ws=o(3106);const ks=(0,p.Z)(bs,[["render",vs],["__scopeId","data-v-e17006a8"]]);var Ss=ks;x()(bs,"components",{QSelect:Ws.Z,QIcon:U.Z,QField:Ce.Z,QItem:S.Z});var qs={components:{CustomInput:ys,CustomSelect:Ss},data(){return{userFunctions:[]}},computed:{...(0,u.rn)("forms",["userFormData"])},mounted(){Xe.get("/PPH/user-functions/").then((e=>{console.log(e.data),this.userFunctions=e.data.map((e=>({label:e.title,value:e.title})))})).catch((e=>{console.error("Erreur lors de la récupération des fonctions utilisateur:",e)}))},methods:{...(0,u.nv)("forms",["updateField"]),async handleSubmit(){try{const e=await Xe.post("PPH/user/update/",this.userFormData);console.log("Réponse API:",e.data),this.$store.dispatch("notifications/showNotification",{message:"Soumission réussie",type:"success"}),this.userFormData={email:"",password:""}}catch(e){console.error("Erreur lors de la soumission du formulaire:",e),this.$store.dispatch("notifications/showNotification",{message:"Erreur lors de la soumission du formulaire",type:"error"}),this.$store.commit("errorModule/SET_ERROR",e.response?.data?.detail||"Une erreur est survenue.")}}}};const Cs=(0,p.Z)(qs,[["render",hs]]);var Us=Cs;x()(qs,"components",{QForm:Pe.Z,QCard:Ee.Z,QCardSection:Me.Z,QBtn:b.Z,QIcon:U.Z});var Is={components:{UserProfilForm:Us},data(){return{error:null,formSubmitted:!1}}};const Fs=(0,p.Z)(Is,[["render",ms]]);var xs=Fs;x()(Is,"components",{QPage:je.Z});const Es={class:"row justify-center"},Ms={class:"col-12"},Ps=(0,s._)("h5",{class:"text-cyan-4 q-mb-lg text-center"},"Mon compte utilisateur",-1);function Ts(e,t,o,a,n,l){const r=(0,s.up)("UserAccountForm"),i=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(i,{class:"container"},{default:(0,s.w5)((()=>[(0,s._)("div",Es,[(0,s._)("div",Ms,[Ps,(0,s.Wm)(r,{userData:this.$store.getters.user},null,8,["userData"])])])])),_:1})}const Zs={class:"row justify-center items-center"},Ls={class:"row justify-center q-my-md"},Vs={class:"col-2"};function Ns(e,t,o,n,l,r){const i=(0,s.up)("CustomInput"),c=(0,s.up)("q-card-section"),u=(0,s.up)("CustomSelect"),m=(0,s.up)("q-card"),d=(0,s.up)("q-icon"),p=(0,s.up)("q-btn"),f=(0,s.up)("q-form");return(0,s.wg)(),(0,s.j4)(f,{onSubmit:(0,a.iM)(r.onSubmit,["prevent"]),enctype:"multipart/form-data"},{default:(0,s.w5)((()=>[(0,s._)("div",Zs,[(0,s.Wm)(m,{class:"col-6 shadow-5",style:{"background-color":"#e6e5e8"}},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"q-mb-lg justify-center row"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{class:"col-4",inputModel:l.last_name,"onUpdate:inputModel":t[0]||(t[0]=e=>l.last_name=e),label:"Nom",inputRef:"last_nameInput",iconName:"portrait",modelName:"last_name"},null,8,["inputModel"]),(0,s.Wm)(i,{class:"col-4 offset-2",inputModel:l.first_name,"onUpdate:inputModel":t[1]||(t[1]=e=>l.first_name=e),label:"Prénom",inputRef:"first_nameInput",iconName:"portrait",modelName:"first_name"},null,8,["inputModel"])])),_:1}),(0,s.Wm)(c,{class:"q-mb-lg justify-center row"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{class:"col-4",inputModel:l.email,"onUpdate:inputModel":t[2]||(t[2]=e=>l.email=e),label:"E-mail",inputRef:"emailInput",iconName:"email",modelName:"email"},null,8,["inputModel"]),(0,s.Wm)(i,{class:"col-4 offset-2",inputModel:e.user_name,"onUpdate:inputModel":t[3]||(t[3]=t=>e.user_name=t),label:"Nom d'utilisateur",inputRef:"usernameInput",iconName:"portrait",modelName:"username"},null,8,["inputModel"])])),_:1}),(0,s.Wm)(c,{class:"q-mb-lg row"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"col-4 offset-1",label:"Fonction",options:e.userFunctions,inputRef:"dropDownInput",inputName:"dropDown",iconName:"badge",onInput:e.onSelectChange},null,8,["options","onInput"])])),_:1})])),_:1})]),(0,s._)("div",Ls,[(0,s._)("div",Vs,[(0,s.Wm)(p,{type:"submit",class:"q-mt-lg glossy full-width btn-grey-success-pph"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"q-mx-sm",name:"library_add"}),(0,s.Uk)(" Enregistrer ")])),_:1})])])])),_:1},8,["onSubmit"])}var Qs={components:{CustomInput:ys,CustomSelect:Ss},props:{userData:Object},data(){return{last_name:this.userData.lastName,first_name:this.userData.firstName,email:this.userData.email,username:this.userData.username,function:this.userData.function}},computed:{...(0,u.Se)({user:"user"})},watch:{user(e){this.last_name=e.lastName,this.first_name=e.firstName,this.email=e.email,this.username=e.username,this.function=e.function}},mounted(){Xe.get("/PPH/user-functions/").then((e=>{console.log(e.data),this.userFunctions=e.data.map((e=>({label:e.title,value:e.title})))})).catch((e=>{console.error("Erreur lors de la récupération des fonctions utilisateur:",e)}))},methods:{onSubmit(){this.$store.commit("SET_USER_DATA",{lastName:this.last_name,firstName:this.first_name,email:this.email,userName:this.username,function:this.function})}}};const js=(0,p.Z)(Qs,[["render",Ns]]);var Os=js;x()(Qs,"components",{QForm:Pe.Z,QCard:Ee.Z,QCardSection:Me.Z,QBtn:b.Z,QIcon:U.Z});var Rs={components:{UserAccountForm:Os},data(){return{error:null,formSubmitted:!1}},mounted(){this.$store.dispatch("fetchUserData")}};const Bs=(0,p.Z)(Rs,[["render",Ts]]);var As=Bs;x()(Rs,"components",{QPage:je.Z});const Ds={class:"row justify-center"},$s={class:"col-md-12"},Hs={class:"row"},zs={class:"col-1 q-mx-sm q-mt-sm"},Gs={class:"row q-mt-sm"},Ks={class:"col col-12 justify-center"},Ys={class:"row justify-start"},Js=["onClick"],Xs=["onClick"];function en(e,t,o,n,l,r){const i=(0,s.up)("q-btn"),c=(0,s.up)("router-link"),u=(0,s.up)("q-img"),m=(0,s.up)("q-item-section"),d=(0,s.up)("q-item"),p=(0,s.up)("q-list"),f=(0,s.up)("q-menu"),h=(0,s.up)("q-card"),w=(0,s.up)("q-page"),g=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(w,null,{default:(0,s.w5)((()=>[(0,s._)("div",Ds,[(0,s._)("div",$s,[(0,s._)("div",Hs,[(0,s._)("div",zs,[(0,s.Wm)(c,{to:"/user/"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{round:"",class:"glossy btn-grey-primary-pph",icon:"add"})])),_:1})])]),(0,s._)("div",Gs,[(0,s._)("div",Ks,[(0,s._)("div",Ys,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.allUsers,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"col-1 q-pa-sm",key:t.id,onClick:e=>r.redirectToLink(t.id)},[(0,s.Wm)(h,{bordered:"",class:(0,_.C_)(["card-mini justify-center items-center text-center relative",{"bd-red-4":!t.is_active}])},{default:(0,s.w5)((()=>[(0,s._)("div",{onClick:e=>r.redirectToLink(t.id),class:"card-content"},[(0,s.Wm)(u,{class:"logo-card-mini",src:t.function.logo,alt:t.function.title},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,_.C_)(["absolute-top hover-effect q-my-none text-no-wrap",{"text-cyan-1":t.is_active,"text-red-4":!t.is_active}])},(0,_.zw)(t.last_name)+" "+(0,_.zw)(t.first_name[0]),3)])),_:2},1032,["src","alt"]),(0,s.Wm)(i,{flat:"",color:"white",class:"absolute-top-right hover-effect q-pa-none q-ma-none",icon:"more_vert",onClick:(0,a.iM)((o=>e.toggleMenu(t.id)),["stop"])},null,8,["onClick"]),(0,s.Wm)(f,{fit:"",anchor:"top right",self:"bottom middle",modelValue:e.showMenu[t.id],"onUpdate:modelValue":o=>e.showMenu[t.id]=o},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{style:{"min-width":"100px"}},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(d,{clickable:"",onClick:(0,a.iM)((o=>e.deleteUser(t.id)),["stop"])},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Supprimer")])),_:1})])),_:2},1032,["onClick"])),[[g]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(d,{clickable:"",onClick:(0,a.iM)((o=>e.toggleActivation({userId:t.id,isActive:t.is_active})),["stop"])},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,_.zw)(t.is_active?"Désactiver":"Activer"),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[g]])])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue"])],8,Xs),(0,s.Wm)(i,{class:"absolute-bottom-right hover-effect q-pa-none q-ma-none",color:"cyan-4",round:"",flat:"",dense:"",icon:"info",onClick:(0,a.iM)((o=>(e.toggleInfo(t.id),e.showMenuLog(t.id))),["stop"])},null,8,["onClick"]),(0,s.Wm)(f,{fit:"",anchor:"bottom right",self:"top middle",modelValue:e.expanded[t.id],"onUpdate:modelValue":o=>e.expanded[t.id]=o},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{style:{"min-width":"100px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{avatar:"",class:"text-cyan-4"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Nom : ")])),_:1}),(0,s.Wm)(m,{class:"text-grey-7"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,_.zw)(t.last_name),1)])),_:2},1024)])),_:2},1024),(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{avatar:"",class:"text-cyan-4"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Prénom : ")])),_:1}),(0,s.Wm)(m,{class:"text-grey-7"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,_.zw)(t.first_name),1)])),_:2},1024)])),_:2},1024),(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{avatar:"",class:"text-cyan-4"},{default:(0,s.w5)((()=>[(0,s.Uk)(" E-mail : ")])),_:1}),(0,s.Wm)(m,{class:"text-grey-7"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,_.zw)(t.email),1)])),_:2},1024)])),_:2},1024),(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{avatar:"",class:"text-cyan-4"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Fonction : ")])),_:1}),(0,s.Wm)(m,{class:"text-grey-7"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,_.zw)(t.function.title),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["class"])],8,Js)))),128))])])])])])])),_:1})}var tn={name:"UsersCards",computed:{...(0,u.Se)("users",["allUsers","showMenu","expanded"])},created(){this.loadUsers(),console.log(this.allUsers)},methods:{...(0,u.nv)("users",["loadUsers","toggleActivation","deleteUser","toggleMenu","toggleInfo"]),redirectToLink(e){this.$router.push(`/user/${e}`)}}};const on=(0,p.Z)(tn,[["render",en]]);var an=on;x()(tn,"components",{QPage:je.Z,QBtn:b.Z,QCard:Ee.Z,QImg:ns.Z,QMenu:W.Z,QList:k.Z,QItem:S.Z,QItemSection:q.Z}),x()(tn,"directives",{ClosePopup:I.Z});const sn={class:"row justify-center q-pt-xl"},nn=(0,s._)("h5",{class:"text-cyan-4"}," Mentions légales ",-1),ln=(0,s._)("p",{class:"text-blue-grey-7"},[(0,s.Uk)(" Le présent site www.pph.fr est la propriété de la société HopDigit SAS, société par action simplifiée au capital de 21.870 euros."),(0,s._)("br"),(0,s.Uk)(" Inscription au RCS de Cherbourg en Cotentin sous le n° 817 698 061"),(0,s._)("br"),(0,s.Uk)(" Siège social: 3 le quesnay, 50690 Couville, France"),(0,s._)("br"),(0,s.Uk)(" Adresse mail: contact@pph.fr"),(0,s._)("br"),(0,s._)("br"),(0,s.Uk)(" Directeur de publication : Monsieur Capelle Jérémy ayant la qualité de Président de la société PPH."),(0,s._)("br"),(0,s._)("br"),(0,s.Uk)(" Numéro de la TVA: FR85 817 698 061"),(0,s._)("br"),(0,s._)("br"),(0,s.Uk)(" Déclaration auprès de la CNIL sous les numéros1850968v0, 1850964v0 & 2070289-V1"),(0,s._)("br"),(0,s._)("br"),(0,s.Uk)(" Hébergeurs: OVH & Hébergement données santé: A2COM (Hébergeur français souverain certifié HDS – Activités 1-2-3-4-5-6 – ZA Rive Ouest, 1 Bd du Trieux, 35740 Pacé) ")],-1);function rn(e,t,o,a,n,l){const r=(0,s.up)("q-card-section"),i=(0,s.up)("q-card");return(0,s.wg)(),(0,s.iD)("div",sn,[(0,s.Wm)(i,{class:"col-10 q-mt-xl",style:{"background-color":"#e6e5e8"}},{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[nn,ln])),_:1})])),_:1})])}var cn={name:"MentionsLegales"};const un=(0,p.Z)(cn,[["render",rn]]);var mn=un;x()(cn,"components",{QCard:Ee.Z,QCardSection:Me.Z});const dn={class:"row justify-center q-pt-xl"},pn=(0,s._)("h5",{class:"text-cyan-4"}," Conditions générales d'utilisation ",-1),fn=(0,s._)("h6",{class:"text-cyan-4"}," ARTICLE 1 : DISPOSITIONS GENERALES ",-1),hn=(0,s._)("p",{class:"text-blue-grey-7"},[(0,s.Uk)(" Les présentes conditions générales s’appliquent dans leur intégralité, sans restriction ni réserve, à l’ensemble des services proposés (ci-après définis et désignés « Services ») aux Etablissements (ci-après définis), par la société HopDigit, Société par Actions Simplifiée au capital de 21.890 € immatriculée au R.C.S de Cherbourg en Cotentin sous le numéro 817 698 061 sise 20 quai Duguay Trouin, 35000 Rennees (ci-après « HopDigit »), notamment via son site internet https://www.hopdigit.fr/ (ci-après « Site Internet »)."),(0,s._)("br"),(0,s._)("br"),(0,s.Uk)(" Elles en constituent les conditions essentielles et déterminantes et prévalent sur toutes conditions générales et/ou tous autres documents émanant de l’Etablissement, quels qu’en soient les termes."),(0,s._)("br"),(0,s.Uk)(" Aussi, toute demande de souscription à une offre de Services proposée par HopDigit et/ou l’utilisation des Services implique l’acceptation sans réserve des présentes conditions générales. Les présentes conditions générales peuvent être modifiées à tout moment par Hopdigit, notamment en cas d’ajustement tarifaire, d’évolutions technologiques ou réglementaires. Dans cette hypothèse, les conditions générales modifiées seront applicables à toute relation contractuelle en cours et à venir. Chacune des stipulations des présentes conditions générales s’appliquera dans toute la mesure autorisée par la loi et toute nullité en tout ou partie d’une clause sera sans influence sur le reste de cette clause et l’ensemble des conditions générales. ")],-1),wn=(0,s._)("h6",{class:"text-cyan-4"},"ARTICLE 2 : CHAMP D’APPLICATION SERVICES",-1),gn=(0,s._)("p",{class:"text-blue-grey-7"},[(0,s.Uk)(" MAPUI LABS met à disposition par le biais du Site Internet et moyennant un abonnement gratuit ou payant selon la formule, une plateforme (ci-après : « Plateforme ») permettant notamment à l’Etablissement, en fonction des différentes fonctionnalités choisies :"),(0,s._)("br"),(0,s.Uk)(" – de mettre à disposition, prêter et échanger des médicaments, dispositifs médicaux ou autres préparations (ci-après « Médicaments ») avec d’autres Etablissements,"),(0,s._)("br"),(0,s.Uk)(" – d’être alerté par notification ou email d’informations provenant d’autres Etablissements, notamment concernant la disponibilité et la péremption de Médicaments,"),(0,s._)("br"),(0,s.Uk)(" – d’accéder à des statistiques et compilations de données réalisée par MAPUI LABS (ci-après : « Données »),"),(0,s._)("br"),(0,s.Uk)(" – d’échanger avec les autres Etablissements et leurs Utilisateurs (ci-après définis) inscrits sur la Plateforme notamment via le forum (ci-après « Forum »)"),(0,s._)("br")],-1),_n=(0,s._)("h6",{class:"text-cyan-4"},"ETABLISSEMENTS",-1),yn=(0,s._)("p",{class:"text-blue-grey-7"}," Au regard du contenu et de leurs finalités, la Plateforme et les Services proposés sont exclusivement destiné aux pharmacies des hôpitaux et cliniques agissant dans le cadre de leur activité professionnelle (ci-après « Etablissements ») et à leur personnel habilité à y accéder pour un usage professionnel (ci-après « Utilisateurs »). ",-1);function vn(e,t,o,a,n,l){const r=(0,s.up)("q-card-section"),i=(0,s.up)("q-card");return(0,s.wg)(),(0,s.iD)("div",dn,[(0,s.Wm)(i,{class:"col-10 q-mt-xl",style:{"background-color":"#e6e5e8"}},{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[pn,fn,hn,wn,gn,_n,yn])),_:1})])),_:1})])}var bn={name:"CdtGalUtl"};const Wn=(0,p.Z)(bn,[["render",vn]]);var kn=Wn;function Sn(e,t,o,a,n,l){return(0,s.wg)(),(0,s.iD)("div",null,"hello")}x()(bn,"components",{QCard:Ee.Z,QCardSection:Me.Z});var qn={name:"HomePage"};const Cn=(0,p.Z)(qn,[["render",Sn]]);var Un=Cn;const In={class:"row justify-center"},Fn={class:"col-md-12"},xn={class:"row"},En={class:"col-1 q-ml-sm q-mt-sm"},Mn={class:"col-2 q-ml-xl-md offset-8"},Pn={class:"row q-mt-sm"},Tn={class:"col-9 justify-center"},Zn={class:"row justify-start"},Ln=["onClick"],Vn=["onClick"];function Nn(e,t,o,n,l,r){const i=(0,s.up)("q-btn"),c=(0,s.up)("router-link"),u=(0,s.up)("q-icon"),m=(0,s.up)("q-input"),d=(0,s.up)("q-img"),p=(0,s.up)("q-item-section"),f=(0,s.up)("q-item"),h=(0,s.up)("q-list"),w=(0,s.up)("q-menu"),g=(0,s.up)("q-btn-group"),y=(0,s.up)("q-card"),v=(0,s.up)("q-page"),b=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(v,null,{default:(0,s.w5)((()=>[(0,s._)("div",In,[(0,s._)("div",Fn,[(0,s._)("div",xn,[(0,s._)("div",En,[(0,s.Wm)(c,{to:"/creation-matiere-premiere/"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{round:"",class:"glossy btn-grey-primary-pph",icon:"add"})])),_:1})]),(0,s._)("div",Mn,[(0,s.Wm)(m,{ref:"searchInput",modelValue:l.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchQuery=e),label:"Recherche...",onInput:r.filterMatieres,color:"cyan-4",onMouseover:t[1]||(t[1]=e=>r.changeLabelColor("searchInput","#ffb74d")),onMouseleave:t[2]||(t[2]=e=>r.changeLabelColor("searchInput","")),onFocus:t[3]||(t[3]=e=>r.onFocus("searchQuery","#4dd0e1")),onBlur:t[4]||(t[4]=e=>r.onBlur("searchQuery"))},{before:(0,s.w5)((()=>[(0,s.Wm)(u,{name:"search",color:"cyan-4"})])),_:1},8,["modelValue","onInput"])])]),(0,s._)("div",Pn,[(0,s._)("div",Tn,[(0,s._)("div",Zn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.filteredMatieres,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"col-2 q-pa-sm",key:t.id,onClick:e=>r.redirectToLink(t.id)},[(0,s.Wm)(y,{bordered:"",class:(0,_.C_)(["card-maxi justify-center items-center text-center relative",{"bd-red-4":!t.stockee}])},{default:(0,s.w5)((()=>[(0,s._)("div",{onClick:e=>r.redirectToLink(t.id),class:"card-content"},[(0,s.Wm)(d,{class:"logo-card-mini",src:t.type.logo,alt:t.type.nom},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,_.C_)(["absolute-top hover-effect q-my-none",{"text-cyan-1":t.stockee,"text-red-4":!t.stockee}])},[(0,s._)("div",null,(0,_.zw)(t.nom),1),(0,s._)("div",null,(0,_.zw)(t.forme.nom)+" "+(0,_.zw)(t.qté_cdt)+(0,_.zw)(t.forme.unite_mesure.nom),1),(0,s._)("div",null,[t.qté_stock<t.stock_mini?((0,s.wg)(),(0,s.j4)(u,{key:0,name:"warning",color:"red-4"})):(0,s.kq)("",!0),(0,s.Uk)(" Stock : "+(0,_.zw)(t.qté_stock)+(0,_.zw)(t.forme.unite_stock),1)])],2)])),_:2},1032,["src","alt"]),(0,s.Wm)(i,{flat:"",color:"white",class:"absolute-top-right hover-effect q-pa-none q-ma-none",icon:"more_vert",onClick:(0,a.iM)((o=>e.toggleMenu(t.id)),["stop"])},null,8,["onClick"]),(0,s.Wm)(w,{fit:"",anchor:"top right",self:"bottom middle",modelValue:e.showMenu[t.id],"onUpdate:modelValue":o=>e.showMenu[t.id]=o},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{style:{"min-width":"100px"}},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(f,{clickable:"",onClick:(0,a.iM)((o=>e.deleteMatiere(t.id)),["stop"])},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)("Supprimer")])),_:1})])),_:2},1032,["onClick"])),[[b]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(f,{clickable:"",onClick:(0,a.iM)((o=>e.toggleActivation({matiereId:t.id,isStockee:t.stockee})),["stop"])},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"hover-effect"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,_.zw)(t.stockee?"Non Stockée":"Stockée"),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[b]])])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue"])],8,Vn),(0,s.Wm)(g,{class:"absolute-bottom-right q-pa-none q-ma-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{class:"q-pa-none hover-effect",flat:"",color:"cyan-4",icon:"bar_chart"}),(0,s.Wm)(i,{class:"q-pa-none hover-effect",flat:"",color:"cyan-4",icon:"playlist_add"}),(0,s.Wm)(i,{class:"hover-effect",color:"cyan-4",round:"",flat:"",dense:"",icon:"info",onClick:(0,a.iM)((o=>e.toggleInfo(t.id)),["stop"])},null,8,["onClick"])])),_:2},1024),(0,s.Wm)(w,{fit:"",anchor:"bottom right",self:"top middle",modelValue:e.expanded[t.id],"onUpdate:modelValue":o=>e.expanded[t.id]=o},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{style:{"min-width":"100px"}},{default:(0,s.w5)((()=>[t.fournisseur?((0,s.wg)(),(0,s.j4)(f,{key:0},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:"",class:"text-cyan-4"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Fournisseur : ")])),_:1}),(0,s.Wm)(p,{class:"text-grey-7"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,_.zw)(t.fournisseur.name),1)])),_:2},1024)])),_:2},1024)):(0,s.kq)("",!0),t.prix?((0,s.wg)(),(0,s.j4)(f,{key:1},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:"",class:"text-cyan-4"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Prix : ")])),_:1}),(0,s.Wm)(p,{class:"text-grey-7"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,_.zw)(t.prix)+" € ",1)])),_:2},1024)])),_:2},1024)):(0,s.kq)("",!0),t.prix_unit?((0,s.wg)(),(0,s.j4)(f,{key:2},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:"",class:"text-cyan-4"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Prix unitaire : ")])),_:1}),(0,s.Wm)(p,{class:"text-grey-7"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,_.zw)(t.prix_unit)+" €/"+(0,_.zw)(t.forme.unite_stock),1)])),_:2},1024)])),_:2},1024)):(0,s.kq)("",!0),t.stock_mini?((0,s.wg)(),(0,s.j4)(f,{key:3},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:"",class:"text-cyan-4"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Stock mini : ")])),_:1}),(0,s.Wm)(p,{class:"text-grey-7"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,_.zw)(t.stock_mini)+(0,_.zw)(t.forme.unite_stock),1)])),_:2},1024)])),_:2},1024)):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["class"])],8,Ln)))),128))])])])])])])),_:1})}var Qn={name:"MatieresCards",data(){return{searchQuery:""}},computed:{...(0,u.Se)("matieresPremieres",["allMatieres","showMenu","expanded"]),filteredMatieres(){return this.searchQuery?this.allMatieres.filter((e=>e.nom.toLowerCase().startsWith(this.searchQuery.toLowerCase()))):this.allMatieres}},created(){this.loadMatieresPremieres()},methods:{...(0,u.nv)("matieresPremieres",["loadMatieresPremieres","deleteMatiere","toggleActivation","toggleMenu","toggleInfo"]),filterMatieres(){return this.searchQuery?this.allMatieres.filter((e=>e.nom.toLowerCase().startsWith(this.searchQuery.toLowerCase()))):this.allMatieres},changeLabelColor(e,t){this[e.replace("Input","")]||(this.$refs[e].$el.querySelector(".q-field__label").style.color=t)},onFocus(e,t){this[`${e}Focused`]=!0,this.changeLabelColor(`${e}Input`,t)},onBlur(e){this[`${e}Focused`]=!1},redirectToLink(e){this.$router.push(`/matiere/${e}`)}}};const jn=(0,p.Z)(Qn,[["render",Nn]]);var On=jn;x()(Qn,"components",{QPage:je.Z,QBtn:b.Z,QInput:qe.Z,QIcon:U.Z,QCard:Ee.Z,QImg:ns.Z,QMenu:W.Z,QList:k.Z,QItem:S.Z,QItemSection:q.Z,QBtnGroup:J.Z,QField:Ce.Z}),x()(Qn,"directives",{ClosePopup:I.Z});const Rn={class:"q-pa-md"},Bn={class:"row"},An={class:"row"},Dn={class:"row"},$n={class:"row"},Hn={class:"q-pa-md q-gutter-sm"},zn={class:"row"},Gn={class:"col-8"},Kn={class:"row"},Yn={class:"row"},Jn={class:"col-8"},Xn={class:"row"},el={class:"row"},tl={class:"row justify-center"};function ol(e,t,o,a,n,l){const r=(0,s.up)("q-icon"),i=(0,s.up)("q-input"),c=(0,s.up)("q-select"),u=(0,s.up)("q-btn"),m=(0,s.up)("q-stepper-navigation"),d=(0,s.up)("q-step"),p=(0,s.up)("q-toggle"),f=(0,s.up)("ParametresForm"),h=(0,s.up)("CompositionForm"),w=(0,s.up)("q-btn-group"),g=(0,s.up)("q-stepper");return(0,s.wg)(),(0,s.iD)("div",Rn,[(0,s.Wm)(g,{modelValue:n.step,"onUpdate:modelValue":t[45]||(t[45]=e=>n.step=e),class:"bg-op-8",vertical:"","done-color":"cyan-4","active-color":"orange-4","header-nav":"",animated:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:1,title:"Identification",icon:"info",done:n.step>1},{default:(0,s.w5)((()=>[(0,s._)("div",Bn,[(0,s.Wm)(i,{ref:"nomInput",class:"q-mr-lg col-3",modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.name=t),label:"Nom de la formule",color:"cyan-4",onMouseover:t[1]||(t[1]=t=>e.changeLabelColor("nameInput","#ffb74d")),onMouseleave:t[2]||(t[2]=t=>e.changeLabelColor("nameInput","")),onFocus:t[3]||(t[3]=t=>e.onFocus("name","#4dd0e1")),onBlur:t[4]||(t[4]=t=>e.onBlur("name"))},{before:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"local_pharmacy",color:"cyan-4"})])),_:1},8,["modelValue"]),(0,s.Wm)(c,{modelValue:e.typePrep,"onUpdate:modelValue":t[5]||(t[5]=t=>e.typePrep=t),color:"cyan-4",class:"col-3 hover-effect",label:"Type de préparation",options:l.allTypePrepLabel,"option-label":"label","option-value":"id"},{before:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"local_pharmacy",color:"cyan-4"})])),_:1},8,["modelValue","options"])]),(0,s._)("div",An,[(0,s.Wm)(c,{modelValue:e.liste,"onUpdate:modelValue":t[6]||(t[6]=t=>e.liste=t),color:"cyan-4",class:"col-2 hover-effect",label:"Liste",options:l.allListeLabel,"option-label":"label","option-value":"id"},{before:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"gavel",color:"cyan-4"})])),_:1},8,["modelValue","options"])]),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{flat:"",onClick:t[7]||(t[7]=e=>n.step=2),color:"cyan-4",label:"Suivant",class:"hover-effect"})])),_:1})])),_:1},8,["done"]),(0,s.Wm)(d,{name:2,title:"Voie d'administration",icon:"vaccines",done:n.step>2},{default:(0,s.w5)((()=>[(0,s._)("div",Dn,[(0,s.Wm)(c,{modelValue:e.voie,"onUpdate:modelValue":t[8]||(t[8]=t=>e.voie=t),color:"cyan-4",class:"col-3 hover-effect",label:"Sélectionnez la voie",options:l.allVoiesLabel,"option-label":"label","option-value":"value"},{before:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"vaccines",color:"cyan-4"})])),_:1},8,["modelValue","options"])]),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{flat:"",onClick:t[9]||(t[9]=e=>n.step=3),color:"cyan-4",label:"Suivant",class:"hover-effect"}),(0,s.Wm)(u,{flat:"",onClick:t[10]||(t[10]=e=>n.step=1),color:"cyan-4",label:"Précédent",class:"hover-effect q-ml-sm"})])),_:1})])),_:1},8,["done"]),(0,s.Wm)(d,{name:3,title:"Conservation",icon:"ac_unit",done:n.step>3},{default:(0,s.w5)((()=>[(0,s._)("div",$n,[(0,s.Wm)(i,{ref:"dureeInput",class:"my-0 col-1",modelValue:e.duree,"onUpdate:modelValue":t[11]||(t[11]=t=>e.duree=t),label:"Durée (j)",color:"cyan-4",onMouseover:t[12]||(t[12]=t=>e.changeLabelColor("nameInput","#ffb74d")),onMouseleave:t[13]||(t[13]=t=>e.changeLabelColor("nameInput","")),onFocus:t[14]||(t[14]=t=>e.onFocus("name","#4dd0e1")),onBlur:t[15]||(t[15]=t=>e.onBlur("name"))},{before:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"alarm",color:"cyan-4"})])),_:1},8,["modelValue"])]),(0,s._)("div",Hn,[(0,s._)("div",null,[(0,s.Wm)(p,{modelValue:n.froid,"onUpdate:modelValue":t[16]||(t[16]=e=>n.froid=e),color:"cyan-4",icon:"ac_unit",label:"4°C - 8°C",size:"md"},null,8,["modelValue"]),(0,s.Wm)(p,{modelValue:n.lumiere,"onUpdate:modelValue":t[17]||(t[17]=e=>n.lumiere=e),color:"yellow-4",icon:"light_mode",label:"Abris de la lumiere",size:"md"},null,8,["modelValue"]),(0,s.Wm)(p,{modelValue:n.agiter,"onUpdate:modelValue":t[18]||(t[18]=e=>n.agiter=e),color:"red-4",icon:"waving_hand",label:"Agiter avant emploi",size:"md"},null,8,["modelValue"])])]),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{flat:"",onClick:t[19]||(t[19]=e=>n.step=4),color:"cyan-4",label:"Suivant",class:"hover-effect"}),(0,s.Wm)(u,{flat:"",onClick:t[20]||(t[20]=e=>n.step=2),color:"cyan-4",label:"Précédent",class:"hover-effect q-ml-sm"})])),_:1})])),_:1},8,["done"]),(0,s.Wm)(d,{name:4,title:"Paramètres",icon:"settings",done:n.step>4},{default:(0,s.w5)((()=>[(0,s._)("div",zn,[(0,s._)("div",Gn,[4===n.step?((0,s.wg)(),(0,s.j4)(f,{key:0})):(0,s.kq)("",!0)])]),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{flat:"",onClick:t[21]||(t[21]=e=>n.step=5),color:"cyan-4",label:"Suivant",class:"hover-effect"}),(0,s.Wm)(u,{flat:"",onClick:t[22]||(t[22]=e=>n.step=3),color:"cyan-4",label:"Précédent",class:"hover-effect q-ml-sm"})])),_:1})])),_:1},8,["done"]),(0,s.Wm)(d,{name:5,title:"Mode opératoire",icon:"list_alt",done:n.step>5},{default:(0,s.w5)((()=>[(0,s._)("div",Kn,[(0,s.Wm)(i,{ref:"modeOpInput",class:"my-0 col-3",modelValue:e.modeOperatoire,"onUpdate:modelValue":t[23]||(t[23]=t=>e.modeOperatoire=t),label:"Mode opératoire",color:"cyan-4",autogrow:"",onMouseover:t[24]||(t[24]=t=>e.changeLabelColor("nameInput","#ffb74d")),onMouseleave:t[25]||(t[25]=t=>e.changeLabelColor("nameInput","")),onFocus:t[26]||(t[26]=t=>e.onFocus("name","#4dd0e1")),onBlur:t[27]||(t[27]=t=>e.onBlur("name"))},{before:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"menu_book",color:"cyan-4"})])),_:1},8,["modelValue"])]),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{flat:"",onClick:t[28]||(t[28]=e=>n.step=6),color:"cyan-4",label:"Suivant",class:"hover-effect"}),(0,s.Wm)(u,{flat:"",onClick:t[29]||(t[29]=e=>n.step=4),color:"cyan-4",label:"Précédent",class:"hover-effect q-ml-sm"})])),_:1})])),_:1},8,["done"]),(0,s.Wm)(d,{name:6,title:"Composition",icon:"science",done:n.step>6},{default:(0,s.w5)((()=>[(0,s._)("div",Yn,[(0,s._)("div",Jn,[(0,s.Wm)(h)])]),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{flat:"",onClick:t[30]||(t[30]=e=>n.step=7),color:"cyan-4",label:"Suivant",class:"hover-effect"}),(0,s.Wm)(u,{flat:"",onClick:t[31]||(t[31]=e=>n.step=5),color:"cyan-4",label:"Précédent",class:"hover-effect q-ml-sm"})])),_:1})])),_:1},8,["done"]),(0,s.Wm)(d,{name:7,title:"Contre-indications et précautions d'emploi",icon:"warning",done:n.step>7},{default:(0,s.w5)((()=>[(0,s._)("div",Xn,[(0,s.Wm)(i,{ref:"emploiInput",class:"my-0 col-3",modelValue:e.emploi,"onUpdate:modelValue":t[32]||(t[32]=t=>e.emploi=t),label:"Entrez les informations",color:"cyan-4",autogrow:"",onMouseover:t[33]||(t[33]=t=>e.changeLabelColor("nameInput","#ffb74d")),onMouseleave:t[34]||(t[34]=t=>e.changeLabelColor("nameInput","")),onFocus:t[35]||(t[35]=t=>e.onFocus("name","#4dd0e1")),onBlur:t[36]||(t[36]=t=>e.onBlur("name"))},{before:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"info",color:"cyan-4"})])),_:1},8,["modelValue"])]),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{flat:"",onClick:t[37]||(t[37]=e=>n.step=8),color:"cyan-4",label:"Suivant",class:"hover-effect"}),(0,s.Wm)(u,{flat:"",onClick:t[38]||(t[38]=e=>n.step=6),color:"cyan-4",label:"Précédent",class:"hover-effect q-ml-sm"})])),_:1})])),_:1},8,["done"]),(0,s.Wm)(d,{name:8,title:"Publications",icon:"article"},{default:(0,s.w5)((()=>[(0,s._)("div",el,[(0,s.Wm)(i,{ref:"publicationsInput",class:"my-0 col-3",modelValue:e.publications,"onUpdate:modelValue":t[39]||(t[39]=t=>e.publications=t),label:"Publications, données de stabilité...",color:"cyan-4",autogrow:"",onMouseover:t[40]||(t[40]=t=>e.changeLabelColor("nameInput","#ffb74d")),onMouseleave:t[41]||(t[41]=t=>e.changeLabelColor("nameInput","")),onFocus:t[42]||(t[42]=t=>e.onFocus("name","#4dd0e1")),onBlur:t[43]||(t[43]=t=>e.onBlur("name"))},{before:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"article",color:"cyan-4"})])),_:1},8,["modelValue"])]),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{flat:"",onClick:t[44]||(t[44]=e=>n.step=7),color:"cyan-4",label:"Précédent",class:"hover-effect q-ml-sm"})])),_:1})])),_:1}),(0,s._)("div",tl,[(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{flat:"",onClick:l.submitForm,color:"green-4",label:"Enregistrer"},null,8,["onClick"]),(0,s.Wm)(u,{flat:"",color:"red-4",label:"Supprimer"})])),_:1})])])),_:1},8,["modelValue"])])}const al=(0,s._)("div",{class:"row"},[(0,s._)("div",{class:"col-1 text-cyan-4 text-center"},"Num"),(0,s._)("div",{class:"col-6 text-cyan-4 text-center"},"Matière Première"),(0,s._)("div",{class:"col-1 text-cyan-4 text-center"},"Qté"),(0,s._)("div",{class:"col-1 text-cyan-4 text-center"},"Unité")],-1),sl={class:"row"},nl={class:"col-4"};function ll(e,t,o,n,l,r){const i=(0,s.up)("q-input"),c=(0,s.up)("q-select"),u=(0,s.up)("q-btn"),m=(0,s.up)("q-btn-group"),d=(0,s.up)("q-form");return(0,s.wg)(),(0,s.j4)(d,{onSubmit:(0,a.iM)(r.submitForm,["prevent"])},{default:(0,s.w5)((()=>[al,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.formRows,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"row"},[(0,s.Wm)(i,{square:"",outlined:"",modelValue:e.num_formule,"onUpdate:modelValue":t=>e.num_formule=t,color:"cyan-4",class:"col-1"},null,8,["modelValue","onUpdate:modelValue"]),(0,s.Wm)(c,{square:"",outlined:"",modelValue:e.matiere,"onUpdate:modelValue":t=>e.matiere=t,color:"cyan-4",class:"col-6 hover-effect",options:r.allMatieresLabel,"option-label":"label","option-value":"id"},null,8,["modelValue","onUpdate:modelValue","options"]),(0,s.Wm)(i,{square:"",outlined:"",modelValue:e.qté,"onUpdate:modelValue":t=>e.qté=t,color:"cyan-4",class:"col-1 bd-hover-effect text-center"},null,8,["modelValue","onUpdate:modelValue"]),(0,s.Wm)(c,{square:"",outlined:"",modelValue:e.unite,"onUpdate:modelValue":t=>e.unite=t,color:"cyan-4",class:"col-1 hover-effect text-center",options:r.allUnitesMesure,"option-label":"label","option-value":"id"},null,8,["modelValue","onUpdate:modelValue","options"]),(0,s.Wm)(m,{flat:"",class:"q-ml-lg"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{flat:"",size:"sm",onClick:r.addRow,icon:"check_circle",color:"cyan-4",class:"hover-effect-success"},null,8,["onClick"]),(0,s.Wm)(u,{flat:"",size:"sm",onClick:r.removeRow,icon:"delete_forever",color:"cyan-4",class:"hover-effect-warning"},null,8,["onClick"])])),_:1})])))),128)),(0,s._)("div",sl,[(0,s._)("div",nl,[(0,s.Wm)(u,{flat:"",onClick:r.submitForm,color:"green-4",class:"q-mt-xs"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Valider ")])),_:1},8,["onClick"])])])])),_:1},8,["onSubmit"])}var rl={data(){return{filteredRecords:[],selectedRowIndex:null,formRows:[{num_formule:null,matiere:null,"qté":"",unite:null}]}},computed:{...(0,u.Se)("matieresPremieres",["allMatieres","allUnites"]),allMatieresLabel(){return this.allMatieres.map((e=>({...e,label:`${e.nom} ${e.qté_cdt}${e.forme.unite_mesure.nom} - ${e.forme.nom} - ${e.fournisseur.name}`,id:`${e.id}`})))},allUnitesMesure(){return this.allUnites.map((e=>({...e,label:`${e.nom}`})))}},async created(){this.loadMatieresPremieres(),this.loadUnites(),this.loadLastId()},methods:{...(0,u.nv)("matieresPremieres",["loadMatieresPremieres","loadUnites"]),...(0,u.nv)("formules",["addComposition"]),async addRow(){try{const e=await Xe.get("PPH/nouvelle-formule/dernier_id/"),t=e.data.dernierId,o=t+1;this.formRows.push({num_formule:o,matiere:null,"qté":"",unite:null})}catch(e){console.error("Erreur lors de la récupération du dernier ID du modèle Formule",e)}},removeRow(e){const t=this.formRows.indexOf(e);this.formRows.splice(t,1)},async loadLastId(){try{const e=await Xe.get("/PPH/nouvelle-formule/dernier_id"),t=e.data.dernierId,o=t+1;this.formRows[0].num_formule=o}catch(e){console.error("Erreur lors de la récupération du dernier ID de la formule",e)}this.filterAndShowRecords()},async filterAndShowRecords(){if(null!==this.formRows[0].num_formule)try{const e=await Xe.get(`/PPH/composition/filter/${this.formRows[0].num_formule}`);this.filteredRecords=e.data,console.log("Enregistrements filtrés :",this.filteredRecords),this.updateFormWithFilteredRecords()}catch(e){console.error("Erreur lors de la récupération des enregistrements filtrés",e)}else console.warn("Veuillez d'abord remplir le champ num_formule dans le formulaire.")},updateFormWithFilteredRecords(){this.formRows=this.filteredRecords.map((e=>{const{num_formule:t,matiere:o,"qté":a,unite:s}=e,n=this.allMatieres.find((e=>e.id===o)),l=this.allUnites.find((e=>e.id===s));return n&&l?{num_formule:t,matiere:n.nom,"qté":a,unite:l.nom}:null})),this.formRows=this.formRows.filter((e=>null!==e))},async submitForm(){const e={compositions:this.formRows.map((e=>({num_formule:e.num_formule,matiere:e.matiere.id,"qté":e.qté,unite:e.unite.id})))};this.addComposition(e)}}};const il=(0,p.Z)(rl,[["render",ll]]);var cl=il;x()(rl,"components",{QForm:Pe.Z,QInput:qe.Z,QSelect:Ws.Z,QBtnGroup:J.Z,QBtn:b.Z});const ul={class:"row"},ml={class:"col-8"},dl={class:"row"},pl={class:"col-4"};function fl(e,t,o,n,l,r){const i=(0,s.up)("q-input"),c=(0,s.up)("q-select"),u=(0,s.up)("q-btn"),m=(0,s.up)("q-btn-group"),d=(0,s.up)("q-form");return(0,s.wg)(),(0,s.iD)("div",ul,[(0,s._)("div",ml,[(0,s.Wm)(d,{onSubmit:(0,a.iM)(r.submitForm,["prevent"])},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.formRows,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"row"},[(0,s.Wm)(i,{square:"",outlined:"",modelValue:e.num_formule,"onUpdate:modelValue":t=>e.num_formule=t,color:"cyan-4",class:"col-1"},null,8,["modelValue","onUpdate:modelValue"]),(0,s.Wm)(c,{square:"",outlined:"",modelValue:e.parametre,"onUpdate:modelValue":t=>e.parametre=t,color:"cyan-4",class:"col-6 hover-effect",options:r.allParametresLabel,"option-label":"label","option-value":"id"},null,8,["modelValue","onUpdate:modelValue","options"]),(0,s.Wm)(m,{flat:"",class:"q-ml-lg"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{flat:"",size:"sm",onClick:r.addRow,icon:"check_circle",color:"cyan-4",class:"hover-effect-success"},null,8,["onClick"]),(0,s.Wm)(u,{flat:"",size:"sm",onClick:r.removeRow,icon:"delete_forever",color:"cyan-4",class:"hover-effect-warning"},null,8,["onClick"])])),_:1})])))),128)),(0,s._)("div",dl,[(0,s._)("div",pl,[(0,s.Wm)(u,{flat:"",onClick:r.submitForm,color:"green-4",class:"q-mt-xs"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Valider ")])),_:1},8,["onClick"])])])])),_:1},8,["onSubmit"])])])}var hl={data(){return{selectedRowIndex:null,formRows:[{num_formule:null,parametre:null}]}},computed:{...(0,u.Se)("formules",["allParametres"]),allParametresLabel(){return this.allParametres.map((e=>({...e,label:`${e.nom} - ${e.unite}`})))}},async created(){this.loadLastId(),this.loadParametres()},methods:{...(0,u.nv)("formules",["loadParametres","addParametre"]),async loadLastId(){try{const e=await Xe.get("/PPH/nouvelle-formule/dernier_id"),t=e.data.dernierId,o=t+1;this.formRows[0].num_formule=o}catch(e){console.error("Erreur lors de la récupération du dernier ID de la formule",e)}},async addRow(){try{const e=await Xe.get("PPH/nouvelle-formule/dernier_id/"),t=e.data.dernierId,o=t+1;this.formRows.push({num_formule:o,parametre:null})}catch(e){console.error("Erreur lors de la récupération du dernier ID du modèle Formule",e)}},removeRow(e){const t=this.formRows.indexOf(e);this.formRows.splice(t,1)},async submitForm(){const e={parametres:this.formRows.map((e=>({num_formule:e.num_formule,parametre:e.parametre})))};this.addParametre(e)}}};const wl=(0,p.Z)(hl,[["render",fl]]);var gl=wl;x()(hl,"components",{QForm:Pe.Z,QInput:qe.Z,QSelect:Ws.Z,QBtnGroup:J.Z,QBtn:b.Z});var _l={components:{CompositionForm:cl,ParametresForm:gl},data(){return{step:1,froid:!1,lumiere:!1,agiter:!1}},computed:{...(0,u.Se)("formules",["allTypes","allListes"]),...(0,u.Se)("voiesAdministration",["allVoies"]),allTypePrepLabel(){return this.allTypes.map((e=>({...e,label:`${e.nom}`})))},allListeLabel(){return this.allListes.map((e=>({...e,label:`${e.nom}`})))},allVoiesLabel(){return this.allVoies.map((e=>({...e,label:`${e.nom}`})))}},created(){this.loadVoies(),this.loadTypes(),this.loadListes()},methods:{...(0,u.nv)("formules",["loadTypes","loadListes","addFormule"]),...(0,u.nv)("voiesAdministration",["loadVoies"]),async submitForm(){const e={nom:this.name,type:this.typePrep,liste:this.liste,voie:this.voie,duree:this.duree,froid:this.froid,lumiere:this.lumiere,agiter:this.agiter,mode_operatoire:this.modeOperatoire,contre_indications:this.emploi,publications:this.publications};this.addFormule(e)}}},yl=o(5588),vl=o(9505),bl=o(1343),Wl=o(8299);const kl=(0,p.Z)(_l,[["render",ol]]);var Sl=kl;x()(_l,"components",{QStepper:yl.Z,QStep:vl.Z,QInput:qe.Z,QIcon:U.Z,QSelect:Ws.Z,QStepperNavigation:bl.Z,QBtn:b.Z,QToggle:Wl.Z,QBtnGroup:J.Z});const ql={class:"q-pa-md"},Cl={class:"row"},Ul={class:"row"},Il={class:"row"},Fl={class:"row"},xl={class:"q-pa-md q-gutter-sm"},El=(0,s._)("div",{class:"row"},[(0,s._)("div",{class:"col-8"})],-1),Ml={class:"row justify-center"};function Pl(e,t,o,a,n,l){const r=(0,s.up)("q-icon"),i=(0,s.up)("q-input"),c=(0,s.up)("q-select"),u=(0,s.up)("q-btn"),m=(0,s.up)("q-stepper-navigation"),d=(0,s.up)("q-step"),p=(0,s.up)("q-toggle"),f=(0,s.up)("q-btn-group"),h=(0,s.up)("q-stepper");return(0,s.wg)(),(0,s.iD)("div",ql,[(0,s.Wm)(h,{modelValue:n.step,"onUpdate:modelValue":t[22]||(t[22]=e=>n.step=e),class:"bg-op-8",vertical:"","done-color":"cyan-4","active-color":"orange-4","header-nav":"",animated:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:1,title:"Identification",icon:"info",done:n.step>1},{default:(0,s.w5)((()=>[(0,s._)("div",Cl,[(0,s.Wm)(i,{ref:"nomInput",class:"q-mr-lg col-3",modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.name=t),label:"Nom",color:"cyan-4",onMouseover:t[1]||(t[1]=t=>e.changeLabelColor("nameInput","#ffb74d")),onMouseleave:t[2]||(t[2]=t=>e.changeLabelColor("nameInput","")),onFocus:t[3]||(t[3]=t=>e.onFocus("name","#4dd0e1")),onBlur:t[4]||(t[4]=t=>e.onBlur("name"))},{before:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"local_pharmacy",color:"cyan-4"})])),_:1},8,["modelValue"]),(0,s.Wm)(c,{modelValue:e.typeMat,"onUpdate:modelValue":t[5]||(t[5]=t=>e.typeMat=t),color:"cyan-4",class:"col-3 hover-effect",label:"Type de matière première",options:e.allTypeMatLabel,"option-label":"label","option-value":"id"},{before:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"local_pharmacy",color:"cyan-4"})])),_:1},8,["modelValue","options"])]),(0,s._)("div",Ul,[(0,s.Wm)(c,{modelValue:e.forme,"onUpdate:modelValue":t[6]||(t[6]=t=>e.forme=t),color:"cyan-4",class:"col-2 hover-effect",label:"Forme",options:e.allFormeLabel,"option-label":"label","option-value":"id"},{before:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"gavel",color:"cyan-4"})])),_:1},8,["modelValue","options"])]),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{flat:"",onClick:t[7]||(t[7]=e=>n.step=2),color:"cyan-4",label:"Suivant",class:"hover-effect"})])),_:1})])),_:1},8,["done"]),(0,s.Wm)(d,{name:2,title:"Fournisseur",icon:"forklift",done:n.step>2},{default:(0,s.w5)((()=>[(0,s._)("div",Il,[(0,s.Wm)(c,{modelValue:e.fournisseur,"onUpdate:modelValue":t[8]||(t[8]=t=>e.fournisseur=t),color:"cyan-4",class:"col-3 hover-effect",label:"Sélectionnez un fournisseur",options:e.allSuppliersLabel,"option-label":"label","option-value":"value"},{before:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"forklift",color:"cyan-4"})])),_:1},8,["modelValue","options"])]),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{flat:"",onClick:t[9]||(t[9]=e=>n.step=3),color:"cyan-4",label:"Suivant",class:"hover-effect"}),(0,s.Wm)(u,{flat:"",onClick:t[10]||(t[10]=e=>n.step=1),color:"cyan-4",label:"Précédent",class:"hover-effect q-ml-sm"})])),_:1})])),_:1},8,["done"]),(0,s.Wm)(d,{name:3,title:"Stock",icon:"ac_unit",done:n.step>3},{default:(0,s.w5)((()=>[(0,s._)("div",Fl,[(0,s.Wm)(i,{ref:"prixInput",class:"my-0 col-1",modelValue:e.prix,"onUpdate:modelValue":t[11]||(t[11]=t=>e.prix=t),label:"Prix (€)",color:"cyan-4",onMouseover:t[12]||(t[12]=t=>e.changeLabelColor("nameInput","#ffb74d")),onMouseleave:t[13]||(t[13]=t=>e.changeLabelColor("nameInput","")),onFocus:t[14]||(t[14]=t=>e.onFocus("name","#4dd0e1")),onBlur:t[15]||(t[15]=t=>e.onBlur("name"))},{before:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"alarm",color:"cyan-4"})])),_:1},8,["modelValue"])]),(0,s._)("div",xl,[(0,s._)("div",null,[(0,s.Wm)(p,{modelValue:n.stock,"onUpdate:modelValue":t[16]||(t[16]=e=>n.stock=e),color:"cyan-4",icon:"ac_unit",label:"Stockée",size:"md"},null,8,["modelValue"]),(0,s.Wm)(p,{modelValue:n.cdeAuto,"onUpdate:modelValue":t[17]||(t[17]=e=>n.cdeAuto=e),color:"yellow-4",icon:"light_mode",label:"Déclenchement des commande",size:"md"},null,8,["modelValue"])])]),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{flat:"",onClick:t[18]||(t[18]=e=>n.step=4),color:"cyan-4",label:"Suivant",class:"hover-effect"}),(0,s.Wm)(u,{flat:"",onClick:t[19]||(t[19]=e=>n.step=2),color:"cyan-4",label:"Précédent",class:"hover-effect q-ml-sm"})])),_:1})])),_:1},8,["done"]),(0,s.Wm)(d,{name:4,title:"Réglementation",icon:"settings",done:n.step>4},{default:(0,s.w5)((()=>[El,(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{flat:"",onClick:t[20]||(t[20]=e=>n.step=5),color:"cyan-4",label:"Suivant",class:"hover-effect"}),(0,s.Wm)(u,{flat:"",onClick:t[21]||(t[21]=e=>n.step=3),color:"cyan-4",label:"Précédent",class:"hover-effect q-ml-sm"})])),_:1})])),_:1},8,["done"]),(0,s._)("div",Ml,[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{flat:"",onClick:l.submitForm,color:"green-4",label:"Enregistrer",class:"btn-flat-success-pph"},null,8,["onClick"]),(0,s.Wm)(u,{flat:"",color:"red-4",label:"Supprimer",class:"btn-flat-danger-pph"})])),_:1})])])),_:1},8,["modelValue"])])}var Tl={data(){return{step:1,stock:!1,cdeAuto:!1}},computed:{...(0,u.Se)("formules",["allTypes","allListes"]),...(0,u.Se)("voiesAdministration",["allVoies"]),allTypePrepLabel(){return this.allTypes.map((e=>({...e,label:`${e.nom}`})))},allListeLabel(){return this.allListes.map((e=>({...e,label:`${e.nom}`})))},allVoiesLabel(){return this.allVoies.map((e=>({...e,label:`${e.nom}`})))}},created(){this.loadVoies(),this.loadTypes(),this.loadListes()},methods:{...(0,u.nv)("formules",["loadTypes","loadListes","addFormule"]),...(0,u.nv)("voiesAdministration",["loadVoies"]),async submitForm(){const e={nom:this.name,type:this.typePrep,liste:this.liste,voie:this.voie,duree:this.duree,froid:this.froid,lumiere:this.lumiere,agiter:this.agiter,mode_operatoire:this.modeOperatoire,contre_indications:this.emploi,publications:this.publications};this.addFormule(e)}}};const Zl=(0,p.Z)(Tl,[["render",Pl]]);var Ll=Zl;x()(Tl,"components",{QStepper:yl.Z,QStep:vl.Z,QInput:qe.Z,QIcon:U.Z,QSelect:Ws.Z,QStepperNavigation:bl.Z,QBtn:b.Z,QToggle:Wl.Z,QBtnGroup:J.Z});const Vl=[{path:"/cgu/",name:"CdtGalUtl",component:kn},{path:"/mentions/",name:"MentionsLegales",component:mn},{path:"/home/",name:"Home",component:Un},{path:"/register",name:"Register",component:Eo,beforeEnter:async(e,t,o)=>{await to.dispatch("auth/checkAuthentication"),to.state.auth.isLoggedIn?(await to.dispatch("notifications/showNotification",{message:"Vous devez vous déconnecter pour accéder à cette page !",type:"info"},{root:!0}),o("/home")):o()}},{path:"/login",name:"Login",component:Xo,beforeEnter:async(e,t,o)=>{await to.dispatch("auth/checkAuthentication"),to.state.auth.isLoggedIn?(await to.dispatch("notifications/showNotification",{message:"Vous devez vous déconnecter pour accéder à cette page !",type:"info"},{root:!0}),o("/home")):o()}},{path:"/password-reset",name:"PasswordReset",component:ya,beforeEnter:async(e,t,o)=>{await to.dispatch("auth/checkAuthentication"),to.state.auth.isLoggedIn?(await to.dispatch("notifications/showNotification",{message:"Vous devez vous déconnecter pour accéder à cette page !",type:"info"},{root:!0}),o("/home")):o()}},{path:"/user-account",name:"UserAccount",component:As},{path:"/user",name:"User",component:xs},{path:"/users",name:"UsersCards",component:an},{path:"/supplier",name:"CreateSupplier",component:Da},{path:"/supplier/:id",component:Da,name:"supplier-form",props:!0},{path:"/suppliers",name:"SuppliersCards",component:rs},{path:"/matieres-premieres",name:"MatieresCards",component:On},{path:"/nouvelle-formule",name:"CreateFormula",component:Sl},{path:"/creation-matiere-premiere",name:"CreateMatiere",component:Ll}],Nl=(0,Be.p7)({history:(0,Be.PO)("/"),routes:Vl});var Ql=Nl,jl=o(8029),Ol=o(7586),Rl=o.n(Ol),Bl={config:{},plugins:{Notify:ut.Z},lang:Rl()},Al=o(3636),Dl=o(9417),$l=o(1238),Hl=o(5563);(0,Hl.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),Al.vI.add(Dl.zzZ);const zl=(0,a.ri)(Re).use(jl.Z,Bl).use(Ql).use(to);function Gl(e){let t=null;if(document.cookie&&""!==document.cookie){let o=document.cookie.split(";");for(let a=0;a<o.length;a++){let s=o[a].trim();if(s.substring(0,e.length+1)===e+"="){t=decodeURIComponent(s.substring(e.length+1));break}}}return t}zl.component("font-awesome-icon",$l.GN),zl.config.errorHandler=(e,t,o)=>{console.log("Captured in app.config.errorHandler: ",e,t,o)},zl.mount("#app");let Kl=Gl("csrftoken");Ae.Z.defaults.xsrfCookieName="csrftoken",Ae.Z.defaults.xsrfHeaderName="X-CSRFTOKEN",Ae.Z.defaults.headers.post["X-CSRFToken"]=Kl}},t={};function o(a){var s=t[a];if(void 0!==s)return s.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,a,s,n){if(!a){var l=1/0;for(u=0;u<e.length;u++){a=e[u][0],s=e[u][1],n=e[u][2];for(var r=!0,i=0;i<a.length;i++)(!1&n||l>=n)&&Object.keys(o.O).every((function(e){return o.O[e](a[i])}))?a.splice(i--,1):(r=!1,n<l&&(l=n));if(r){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[a,s,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,n,l=a[0],r=a[1],i=a[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(s in r)o.o(r,s)&&(o.m[s]=r[s]);if(i)var u=i(o)}for(t&&t(a);c<l.length;c++)n=l[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(u)},a=self["webpackChunkPPH"]=self["webpackChunkPPH"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(7121)}));a=o.O(a)})();
//# sourceMappingURL=app.93059a94.js.map